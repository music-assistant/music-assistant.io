{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Music Assistant","text":""},{"location":"#music-assistant","title":"Music Assistant","text":"<p>Music Assistant is a music library manager for your offline and online music sources which can easily stream your favourite music to a wide range of supported players and be combined with the power of Home Assistant!</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Supports multiple music sources through a provider implementation</li> <li>Many popular streaming services are supported, as well as local files</li> <li>Automatically matches music on different providers (track linking)</li> <li>Fetches metadata for extended artist information</li> <li>Keeps track of the entire music library in a compact database</li> <li>Gapless, crossfade and volume normalization support for all players</li> <li>Playback synchronisation is possible for supported players</li> <li>Announcements during playback supported</li> <li>Transfer of playback between players supported</li> <li>Truly hassle free streaming of your favourite music to players, no advanced knowledge required</li> <li>Rich User interface (Progressive Web App) powered by VueJS 3</li> </ul>"},{"location":"#architecture","title":"Architecture","text":"<p>Music Assistant consists of multiple building blocks:</p> <ul> <li>Music Assistant Server (Installation Instructions)</li> <li>Home Assistant Integration (Installation Instructions)</li> <li>Music Providers: Import your music from various sources into Music Assistant.</li> <li>Player Providers: Play your music on a wide collection of player ecosystems.</li> <li>Plugins: These extend the functionality of Music Assistant. Importantly, the Home Assistant Plugin allows the importing of Home Assistant media players into the Music Assistant engine to use as targets for playback</li> </ul>"},{"location":"#music-assistant-server","title":"Music Assistant Server","text":"<p>The Music Assistant server is a free, opensource Media library manager that connects to your streaming services and a wide range of connected speakers. The server is the beating heart, the core of Music Assistant and it keeps track of your music sources. It must run on an always-on device like a Raspberry Pi, a NAS or an Intel NUC or alike. The server can access multiple music providers and stream to multiple player types.</p> <p></p>"},{"location":"#home-assistant-integration","title":"Home Assistant Integration","text":"<p>Connects Home Assistant to your Music Assistant Server to allow control from your HA instance, allow you to automate your music and allows voice control! The Integration also allows the exposure of HA media players to MA furthering the options you have for playback.</p>"},{"location":"#preview","title":"Preview","text":"Click to show more screenshots"},{"location":"#the-core-team","title":"The Core Team","text":"<p>We also give THANKS to all the other contributors to the Server, Frontend, Voice Support and all of the Repositories that make up this project!</p> <p></p>"},{"location":"audiopipeline/","title":"Audio Pipeline","text":""},{"location":"audiopipeline/#audio-pipeline","title":"Audio Pipeline","text":""},{"location":"audiopipeline/#basic-view","title":"Basic View","text":"<p>This view shows the complete path that the audio takes. A blue dot on the line on the left shows a processing point in the pipeline.</p> <p>The view is broken into two sections, Input and Output. The coloured dot on the section title indicates the quality as the audio leaves the section. Orange indicates a lossy codec is in use. Green Indicates a lossless codec is in use. Cyan indicates a lossless codec is in use and either the sample rate is above 48kHz or the bit depth is above 16 (also known as \"Hi-Res\").</p> <p>The Input section shows the origin of the stream and the codec, sample rate and bit depth. All tracks are processed internally as raw PCM by Music Assistant and are decoded to 32 bits floating point in the sample rate of the source. Even more details about the original file are available by hovering over the \u24d8 including the bitrate.</p> <p>Next the Volume Normalization value is shown. Details about how Volume Normalization is applied can be found on the Technical Information page.</p> <p>The Output section is then shown which, in this example, is simple and just shows the Output Limiter, that no change to the audio sample rate or bit depth has occurred and then finally the icon of the player provider and the name of the player is shown.</p> <p>MA, by default, sends lossless audio to the player. The exact codec, sample rate or bit depth that are sent to the player depends on the player / provider and is always shown. Changes to the original audio quality may occur if the MP3 option has been selected in the player settings (See the Groups example below) or if the audio is resampled to match the players maximum or native sample rate or bit depth. PCM could be sent to the player although typically FLAC is used to save some bandwidth.</p> <p>The maximum sample rate that can be expected can be found in the Player Providers summary table. This can be further limited if changes were made to the default options for the player's <code>Sample Rates Supported by this Player</code> advanced setting.</p>"},{"location":"audiopipeline/#digital-signal-processing","title":"Digital Signal Processing","text":"<p>In this example DSP has been enabled. High level information about the DSP filters which have been applied are shown. A tooltip is available to explain why the DSP is not supported if that is the case (See the example below in Groups).</p> <p>Also of note in this example is the icon shown in the input section where the codec icon is normally. This icon will be displayed when MA cannot determine the codec and can occur with container formats such as wavpack, m4a or DSD64.</p>"},{"location":"audiopipeline/#groups","title":"Groups","text":"<p>The view will expand as necessary to show all grouped players. In the example above three players are shown with a variety of filters, output qualities and player types.</p> <p>A point to note in this example is the orange dot beside the third Output section label. Whilst no quality would have been lost due to the Output Limiter or the upsampling to 48kHz, the change to the lossy MP3 codec necessitates the indication that this is now only Low Quality.</p> <p>When a group of players have the same pipeline then the identical output stages will be collapsed with one player shown followed by a plus sign and the number of other players represented. Clicking on the information icon will expand the list as shown in the following image. Note that in the case of Squeezelite or AirPlay a different output pipeline per player is possible, whilst with other player types such as Sonos or Snapcast, the leader determines the stream sent to all the children.</p> <p></p>"},{"location":"community-extensions/","title":"Community Extensions","text":""},{"location":"community-extensions/#general","title":"General","text":"<p>This is a collection of community developed HA cards or dashboards for Music Assistant. Review the linked repos (the repo title is linked) for instructions and status of these projects. The complexity of these projects varies.</p>"},{"location":"community-extensions/#music-assistant-jukebox","title":"Music Assistant Jukebox","text":"<p>A web-based song request system that integrates with Home Assistant and Music Assistant to create an interactive jukebox experience for guests!</p> <p></p>"},{"location":"community-extensions/#music-assistant-search-card","title":"Music Assistant Search Card","text":"<p>The Mass Search Card is an advanced search card for Home Assistant, designed to simplify interaction with Music Assistant. This card allows you to effortlessly search for artists, tracks, albums, playlists, and radio stations and play them on your selected media players.</p> <p></p> <p></p>"},{"location":"community-extensions/#mediocre-media-player-card","title":"Mediocre Media Player Card","text":"<p>A bunch of custom media player cards for Home Assistant that let you group speakers and do some custom actions.</p> <p></p>"},{"location":"community-extensions/#custom-media-card","title":"Custom Media Card","text":"<p>A simple media player card for Home Assistant.</p> <p></p>"},{"location":"community-extensions/#music-assistant-lovelace-ui","title":"Music Assistant Lovelace UI","text":"<p>A work in progress Lovelace UI for Music Assistant in Home Assistant using picture-elements</p> <p></p>"},{"location":"community-extensions/#music-assistant-ha-floorplan-based-ui","title":"Music Assistant ha-floorplan based UI","text":"<p>This is working concept demonstrator using the ha-floorplan custom component.</p> <p></p>"},{"location":"community-extensions/#yet-another-media-player","title":"Yet Another Media Player","text":"<p>YAMP is a Home Assistant media card for controlling multiple entities with highly customizable actions and UI elements</p> <p></p>"},{"location":"community-extensions/#music-assistant-player-card","title":"Music Assistant Player Card","text":"<p>Music Assistant Player Card is a custom card which provides a full media player, browser, and player queue for Music Assistant. Requires the custom integration Music Assistant Queue Actions to work.</p> <p></p>"},{"location":"companion-app/","title":"Desktop Companion App","text":""},{"location":"companion-app/#music-assistant-desktop-companion","title":"Music Assistant Desktop Companion","text":"<p>The desktop companion app for Music Assistant!</p> <p>Download for macOS (Apple Silicon | Intel) \u00b7 Windows \u00b7 Linux (Debian | Other)</p> <p>This is still in very early alpha. Bugs will be present.</p> <p>Please help finding them. You can report any bugs on the Discord server or in the repo issues</p> <p>Note</p> <p>There aren't apps available yet for Android or iOS</p>"},{"location":"companion-app/#setup","title":"Setup","text":"<p>When starting the app for the first time you are asked for some information about the Music Assistant Server.</p> <p></p> <p>The app requires that the webserver is exposed. You can set that in the settings</p> <p></p>"},{"location":"companion-app/#features","title":"Features","text":""},{"location":"companion-app/#squeezelite","title":"Squeezelite","text":"<p>Squeezelite comes embedded in the application. This allows playback of music to your computer. The player name will be the same as your computer name. You can change the name in Music Assistant settings. You can also toggle if you wish to enable squeezelite at all.</p> <p>To allow playback to the companion app you have to enable the Squeezelite provider in the Music Assistant settings.</p>"},{"location":"companion-app/#discord-rich-presence","title":"Discord Rich Presence","text":"<p>Like the Spotify app, the Music Assistant app can do Discord Rich Presence.</p> <p>Example of Discord Rich Presence:</p> <p></p>"},{"location":"companion-app/#installation","title":"Installation","text":""},{"location":"companion-app/#windows","title":"Windows","text":"<p>You can download the .msi installer from the releases.</p>"},{"location":"companion-app/#macos","title":"macOS","text":"<p>You can download the .dmg from the releases.</p> <p>Or you can download it using homebrew: <code>brew install music-assistant/tap/companion</code></p>"},{"location":"companion-app/#arch-linux","title":"Arch Linux","text":"<p>This app is on the arch aur with the name <code>music-assistant-desktop</code> or <code>music-assistant-desktop-bin</code> for just the binary</p> <p>You can install it with yay: <code>yay music-assistant-desktop-bin</code></p>"},{"location":"companion-app/#debian-and-debian-based-distributions","title":"Debian (and Debian based distributions)","text":"<p>You can download the .deb from the releases.</p>"},{"location":"companion-app/#all-the-other-linux-distros","title":"All the other Linux distros","text":"<p>You can download the AppImage from the releases.</p>"},{"location":"companion-app/#from-source","title":"From source","text":"<p>If you wish to build the app yourself you should first follow the offical tauri prerequisites</p> <p>Next, make sure you have the frontend submodule cloned. You can do this by running the following command:</p> <pre><code>git submodule --init --recursive\n</code></pre> <p>Then clone the repository and install the node dependencies</p> <pre><code>$ git clone https://github.com/music-assistant/music-assistant-desktop --recursive\n$ cd music-assistant-desktop\n$ yarn install\n$ cd frontend\n$ yarn install\n$ cd ..\n</code></pre> <p>And then build the app</p> <p><code>$ npx tauri build</code></p>"},{"location":"ha-plugin/","title":"Home Assistant Plugin Provider","text":""},{"location":"ha-plugin/#home-assistant-plugin-provider","title":"Home Assistant Plugin Provider","text":"<p>The Home Assistant Plugin provides a connection from HA to MA. This will allow HA players to be visible in MA and be streamed to.</p> <p>To achieve this functionality both the HA plugin and the HA Player Provider need to be installed.</p>"},{"location":"ha-plugin/#features","title":"Features","text":"<ul> <li>Allows HA media players to be players in the MA User Interface</li> <li>Allows HA entities to be linked to power, mute or volume controls of any player available in MA. This can be useful if the player doesn't support the feature natively or in advanced use cases</li> </ul>"},{"location":"ha-plugin/#configuration","title":"Configuration","text":"<p>Before the Plugin can be added the HA Integration must be installed. </p> <ul> <li>Navigate to MA SETTINGS&gt;&gt;PROVIDERS and add the plug-in provider</li> <li>If using the Music Assistant add-on (i.e. HAOS), you wont need any server details, it should auto connect to the local HA instance</li> <li>If using the docker version of the MA server, you will be required to enter the URL to your HA instance and then authenticate</li> </ul>"},{"location":"ha-plugin/#known-issues-notes","title":"Known Issues / Notes","text":"<p>The Home Assistant Plugin can expose HA entities to MA that can then be mapped to the power, volume or mute functions of the MA player. There are three drop down lists which contain a filtered list of HA entities:</p> <ul> <li> <p>For power controls, entities that can be turned on/off and have a boolean state will be shown. (i.e. switch, input_boolean and media_player)</p> </li> <li> <p>For mute controls, entities that can be turned on/off and have a boolean state will be shown. (i.e. switch, input_boolean and also media_player (where mute state will be mapped))</p> </li> <li> <p>For volume controls, entities that can have a numeric value/state will be shown. (i.e. number, input_number and media_player (where volume_level will be mapped))</p> </li> </ul> <p>When an entity is selected it will then appear as an option in an individual player's Player Controls settings.</p>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#installing-the-server","title":"Installing the Server","text":"<p>Music Assistant (in short: MA) is designed to be used side by side with Home Assistant and is built with automation in mind. The recommended installation method is to run the server as a Home assistant Add-on and then optionally add the HA integration. There is also a docker option for those not using Home Assistant Operating System (HAOS).</p>"},{"location":"installation/#home-assistant-add-on","title":"Home Assistant Add-on","text":"<p>This is only available when running the full version of Home Assistant, which includes the Home Assistant Operating System (HAOS). Due to its ease of use and full functionality, running the Home Assistant Operating System is the recommended way of running Home Assistant and Music Assistant.</p> <p>The Music Assistant add-on repository is available in Home Assistant. Browse the addon store within Home Assistant to install or click on the following button:</p> <p></p> <p>A HAOS installation is fully supported by the MA team regardless of whether it runs on dedicated hardware or in a Virtual Machine (VM). The only other requirement is that the HA/MA host and all player devices must be on the same flat network with no VLANs.</p>"},{"location":"installation/#docker-image","title":"Docker image","text":"<p>An alternative way to run the Music Assistant server is by running the docker image:</p> <pre><code>docker run -v &lt;dir&gt;:/data --network host --cap-add=DAC_READ_SEARCH --cap-add=SYS_ADMIN --security-opt apparmor:unconfined ghcr.io/music-assistant/server\n</code></pre> <p>You must run the docker container with host network mode. The data volume is <code>/data</code> - replace <code>&lt;dir&gt;</code> with a writable directory to ensure the data volume persists between updates. If you want access to your local music files from within MA, make sure to also mount that local directory, e.g. /media.</p> <p>Note that accessing remote (SMB) shares is done from within MA by using the SMB File provider. The additional privileges are only required if you want to use a remote (Samba/NFS) share within Music Assistant.</p> <p>Docker compose:</p> <pre><code>services:\n  music-assistant-server:\n    image: ghcr.io/music-assistant/server:latest # &lt;&lt;&lt; Desired release version here (or use beta to get the latest beta version)\n    container_name: music-assistant-server\n    restart: unless-stopped\n    # Network mode must be set to host for MA to work correctly\n    network_mode: host\n    volumes:\n      - ${USERDIR:-$HOME}/docker/music-assistant-server/data:/data/\n    # privileged caps (and security-opt) needed to mount smb folders within the container\n    cap_add:\n      - SYS_ADMIN\n      - DAC_READ_SEARCH\n    security_opt:\n      - apparmor:unconfined\n    environment:\n      # Provide logging level as environment variable.\n      # default=info, possible=(critical, error, warning, info, debug)\n      - LOG_LEVEL=info\n</code></pre> <p>The desired release version can be found on the container image releases page</p> <p>The MA team will support docker installs that are installed per the above instructions. For clarity, to receive support from the MA team:</p> <ul> <li>The docker install must be a simple standalone container (e.g. not using kubernetes)</li> <li>MA, HA and all players must be on the same flat network (or VLAN)</li> <li>Music Assistant needs direct (layer 2) access to the network to properly discover and stream to players. So either host networking or macvlan networking is a mandatory requirement for the docker container</li> </ul> <p>Everything else is considered unsupported. We have the right to close support requests if you're running an unsupported installation or we may ask you to try to reproduce the issue on one of our supported installation types.</p> <p>If you run into any issues when using a docker install vs the recommended/standard Home Assistant add-on, you may try to simply run Home Assistant OS on a VM on your computer or a spare RPi and see if you can reproduce the issue with that setup.</p>"},{"location":"installation/#server-notes","title":"Server Notes","text":"<ul> <li> <p>MA requires a 64bit Operating System and the following minimum hardware:</p> <ul> <li>Recent 64 bit Intel CPU (max 10 years old, although 15 years may still work)</li> <li>Recent AMD CPU (max 5 years old, although 10 years old may still work)</li> <li>Single Board Computer: Raspberry Pi 4 or newer, or equivalent </li> <li>Other aarch64 based CPU, supported by Home Assistant (e.g. Rockchip)</li> <li>a MINIMUM of 2GB of RAM on the physical device or the container (physical devices/containers are recommended to have 4GB+ if they are running anything else)</li> </ul> </li> <li> <p>If MA won't start and the CPU is outside the maximum age listed above then it is not supported</p> </li> <li> <p>Because the server heavily relies on multicast techniques like mDNS and uPnP to discover players on the network it MUST be run in the same Layer 2 network as the player devices</p> </li> <li> <p>The server itself hosts a webserver to stream audio to devices. This webinterface must be accessible via HTTP by IP-address from local players. See the server's logging at startup to see if the server has correctly auto-detected the local IP</p> </li> <li> <p>The webinterface of the server can be reached on TCP port 8095. For HAOS based installations, the webserver is available via Ingress which means it is protected by HA authentication (you also get the sidepanel shortcut for free!)</p> </li> <li> <p>To access the frontend behind a reverse proxy, the reverse proxy will have to be configured to point at port 8095 and expose it to whatever is desired (and add an SSL certificate). How that works differs for each implemention.</p> </li> </ul> <p>Tip</p> <p>The server can be kept more secure by letting the addon (as installed) talk directly to the webserver on the internal docker network. In that case the internal DNS name of the addon would be, for example, <code>http://YOUR_HA_IP_ADDRESS:8123/d5369777_music_assistant</code></p>"},{"location":"installation/#usage-and-notes","title":"Usage and Notes","text":"<ul> <li> <p>If Music Assistant in running in a separate docker container, the webinterface needs to be accessed at <code>http://YOUR_MA_IP_ADDRESS:8095</code>. The port can be changed in the MA settings. If something else is using port 8095 then that must be shutdown until the MA port is changed</p> </li> <li> <p>No providers are installed initially. These must be added by navigating to the MA settings and then adding each provider individually (Music and Players) that are desired</p> </li> <li> <p>Music from the music sources will be automatically loaded into the Music Assistant library. If there are multiple sources, they will be merged as one library</p> </li> <li> <p>The Music Assistant UI centres around the concept of the Library, so the artists, albums, tracks, playlists, audiobooks, podcasts and radio stations that you are most interested in. It is possible to BROWSE or SEARCH the various providers to add aditional items to the Library.</p> </li> <li> <p>Note that at the first startup it can take a while before data is available (first sync), the Music Assistant UI will indicate tasks that are in progress. This can be seen by this symbol  next to the Music Provider entry in the MA settings</p> </li> <li> <p>Music sources are synced at regular intervals (which can be changed in the settings)</p> </li> <li> <p>MA is designed to work on a Raspberry Pi (4+) which is also running Home Assistant. For this reason it does not make large demands on resources. Additionally, there are limits on the free API calls used for artwork and other metadata. The result of this is that initial syncs of large libraries can take a long time. Subsequent syncs should be noticeably faster</p> </li> <li> <p>If a song is available on multiple providers (e.g. Spotify and a FLAC file on disk), the file/stream with the highest quality is always preferred when starting a stream. Highest quality is based on sample rate, bit depth and codec and local is always preferred over cloud if the quality is equal.</p> </li> <li> <p>Music Assistant uses a custom stream port (TCP 8097 by default) to stream audio to players. Players must be able to reach the Home Assistant instance and this port. If you're running one of the recommended HAOS installation methods, this is all handled for you, otherwise you will have to make sure you're running MA in a container with HOST network mode and with the privileges shown in the example docker compose above. Note: If the default port 8097 is occupied, the next port will be tried, and so on</p> </li> <li>Any restriction of the available ports (e.g. trying to run MA through a firewall) is not supported as protocols like AirPlay open random TCP and/or UDP ports</li> <li>Attempting to create or manipulate a playlist or queue with more than a thousand items can cause unresponsivness or high resource usage depending on the resources of the host</li> </ul>"},{"location":"metadata/","title":"Metadata Providers","text":""},{"location":"metadata/#metadata-providers","title":"Metadata Providers","text":"<p>The metadata providers available in Music Assistant are used to supplement metadata which is missing from the items obtained from the music providers. They do NOT change anything (e.g. ID3 tags) obtained from the original item therefore they should not normally be disabled.</p>"},{"location":"release/","title":"Release Cycle","text":""},{"location":"release/#release-cycle","title":"Release Cycle","text":""},{"location":"release/#stable-releases","title":"Stable Releases","text":"<p>Stable releases will only be published every 1-3 months, depending upon the number of feature improvements. These stable releases will come after a beta cycle has been concluded and found stable enough to be promoted.</p> <p>Patch releases may be pushed if there is a compelling need (e.g. an urgent bugfix)</p>"},{"location":"release/#beta-releases","title":"Beta Releases","text":"<p>Next to the standard stable channel we also have a beta channel, for which we publish a dedicated Home Assistant add-on (and docker image). Once a new stable version has been published, a new beta cycle will start (with the minor version increased). For example once stable version 2.3 is released, the beta for version 2.4 start.</p> <p>Beta releases are planned to be released every 1 - 4 weeks, depending on the number of changes. In some cases, when a large feature is in development for example, expect multiple beta releases per week.</p>"},{"location":"release/#dev-channelreleases","title":"DEV Channel/Releases","text":"<p>There is also a dev/nightly add-on which can be run to get the absolute latest version but this comes with risk of intermittent problems during the development cycle. It is used by the MA Team to test new feature as they are being added.</p>"},{"location":"release/#running-parallel-server-versions","title":"Running Parallel Server Versions","text":"<p>It is possible to run the stable, beta or dev server add-ons side by side as they don't share any data. Thus you can temporarily run the beta add-on to try out new features and then revert to the stable version. You can do this by manually stopping and starting the relevant server. Don't have two servers running on the same host at the same time.</p> <p>Warning</p> <p>Be careful that you don't accidentally remove an add-on, because that will result in the loss of all your data (if you didn't back it up). The same applies to docker users: be careful with the data folder and be aware that the data folder is not backwards compatible. Don't try to use it between channels!</p>"},{"location":"support/","title":"Support","text":""},{"location":"support/#support","title":"Support","text":"<p>Because this project originated out of a Home Assistant integration, all enduser support is maintained in a separate repository. Raise issues and discuss ideas here</p> <p>Direct links are:</p> <ul> <li>Issue Tracker to create bug reports. Please review the troubleshooting page first and check if your issue has already been reported. When raising a report please include detailed info and logfiles.</li> <li>Feature Requests: Give your vote to an existing request, join the discussion or add a new request.</li> <li>Q&amp;A Section Frequently asked questions and tutorials</li> </ul> <p>Additionally you can seek assistance in the discord community. Join the community and get support!</p> <p>Before You Ask:</p> <p>Review how to Ask Questions The Smart Way</p> <p>Before asking a technical question in any of our support channels, please do the following:</p> <ol> <li>Try to find an answer by searching this documentation and discussions</li> <li>Try to find an answer by searching the Closed Issues</li> <li>Try to find an answer by searching the Web: https://www.google.com/</li> <li>Try to find an answer by inspection or experimentation.</li> <li>Try to find an answer by asking a skilled friend.</li> </ol> <p>When you ask your question, display the fact that you have done these things first; this will help establish that you're not being lazy and wasting people's time. Better yet, display what you have learned from doing these things. We like answering questions for people who have demonstrated they can learn from the answers.</p>"},{"location":"ui/","title":"User Interface","text":""},{"location":"ui/#user-interface","title":"User Interface","text":""},{"location":"ui/#main-menu","title":"Main Menu","text":"<p>This menu's appearance can be configured in the settings. It can be placed vertically on the left (as shown) or horizontally at the bottom. The options are displayed in the order they were selected. Any of the options can be hidden. If the settings icon is hidden from this menu it is available in the top right of the HOME screen.</p> <p>Warning</p> <p>If you remove both the Home and Settings icons then you will be locked out. In that case you will need to manually enter the path (e.g. <code>http://192.168.1.166:8095/#/settings/frontend</code>) or clear the browser cookies to regain access to the settings page.</p>"},{"location":"ui/#global-search","title":"Global Search","text":"<p>Searches can be done via any combination of words or partial words and also via a URL to a provider such as <code>https://open.spotify.com/album/0BwWUstDMUbgq2NYONRqlu</code> </p> <p>Initially, the view defaults to ALL which is limited to a maximum of 8 items in the seven categories of Tracks, Artists, Albums, Playlists, Podcasts, Audiobooks and Radio. </p> <p>Selecting a specific category will then show a maximum of 50 items. Context sensitive menus are available for each. If the item desired is not found then narrow the search term or navigate to the artist and all available albums and tracks should be shown in that view.</p>"},{"location":"ui/#player-bar","title":"Player Bar","text":"<p>The Audio Pipeline selectable label shows, via a coloured icon and two letters, the quality of the audio output (Low Quality, High Quality and Hi-Res). An orange circle and LQ indicate a lossy codec in use, a green circle and HQ indicates a lossless codec in use, and a cyan circle and HR indicates a lossless codec and High Resolution sample rate or bit depth. For groups, where the quality varies between players, the highest quality available will be indicated.</p>"},{"location":"ui/#now-playing-view","title":"Now Playing View","text":"<p>This view will change depending on screen width. With wider displays you will be able to see the track that is playing (and associated information) as well as the queue, and player selection is available at the bottom. With narrow displays you need to use the toggle in the bottom right to switch between the currently playing information and the queue, and the player selection is available via a smaller speaker icon at the top. Adjustments to the queue can be done with the \u22ee menu on the right.</p> <p>The Audio Pipeline selectable label is described above in the Player Bar section.</p> <p>You can also access the Now Playing view directly via URL</p> <p>When the favourite icon is solid then selecting that will bring up two options - <code>Remove from Favorites</code> and <code>Add to Playlist</code>. It is possible that if the favorite status is changed from a different view after playback has commenced then the favourite status may not indicate correctly until playback of the track is restarted.</p> <p>When lyrics are available for the track being played then the LYRICS selectable label will be shown. Upon selection, the queue will be replaced by the lyrics which will be in sync with the music when timing information is available. Accurate lyric selection is contingent upon the metadata providers and may not be accurate for alternate versions of a song.</p>"},{"location":"ui/#player-list","title":"Player List","text":"<p>Note</p> <p>The volume shown against a player group is the AVERAGE of the volumes of each individal player. When the group volume is changed then each player is changed by a proportionate amount.</p> <p>When a player group is powered on the members of that group will disappear from the player list and individual playback to those players will not be possible. In order to playback to an individual player then either power off the group or remove the player from the group.</p> <p>Note</p> <p>The MDI icon shown against each player can be changed in the player settings.</p>"},{"location":"ui/#grouping-players","title":"Grouping Players","text":"<p>There are four ways to group players</p> <ol> <li>TEMPORARY SYNC GROUP. As shown in the Player List section players can be linked via the checkbox in the player list. Only like player types that support synced playback are allowed to be joined. These players will then play in sync. It should be noted that when players are grouped in this way only the main player holds the queue. </li> <li>SYNC GROUP. Create a (permanent) group player via the settings. In addition to playing in sync the group will also keep the queue on the group player instead of one of its child players.</li> <li>UNIVERSAL GROUP. This allows grouping of dissimilar player provider types but carefully note the potentional limitations on the linked page.</li> <li>NATIVE GROUP. Use the native functionality to group players offered by some player provider types (e.g. Google Cast)</li> </ol> <p>With TEMPORARY SYNC GROUPs the number of players being streamed to can be seen due to the naming convention. In the example image below there are three players in the group.</p> <p></p> <p>Note</p> <p>If an attempt is made to power on a group and a member of that group is already a member of another powered on group then an error will be shown.</p> <p>Note</p> <p>If a player is taken over by another app, MA will not have knowledge of that, and the group may no longer function correctly. Additionally, if a player of a syncgroup tries to join late (e.g. it was unpowered) it will not be synced to the group.</p>"},{"location":"ui/#play-button","title":"Play Button","text":"<p>The play button is used as a shortcut to play the various items in the UI. It is shown on hover for non-mobile devices or is always in view for mobile devices.  </p> <p>Clicking/touching the Play Button will either execute the default play action for the item or show the play menu. To ensure the user doesn't accidentally play on the wrong player, the play menu will show:</p> <ul> <li>the first time the MA view is entered; or</li> <li>if the player is not playing (or paused)</li> </ul> <p>Note</p> <p>If there is ever uncertainty as to whether the item will immediately start playing use a right click or long press to bring up the menu.</p>"},{"location":"ui/#multi-select","title":"Multi Select","text":"<p>When the Multi Select icon is selected the Select All icon will appear.  </p> <p>Clicking/touching the Select All icon will select all of the items in the view (or section of the view as appropiate). For large lists a confirmation dialog will appear as selecting thousands of items can cause unresponsivness depending on the resources of the host.</p> <p>CTRL-A will also select all items unless the search box is in view in which case it will select all text in that box. Also CTRL-A won't work on views that have multiple sections (e.g. the artist view has albums and tracks) so the Multi Select icon must be used in that case. </p>"},{"location":"ui/#track-menu","title":"Track Menu","text":"<p>In any of the following views, Right click or long press on a track to get the following menus</p> <p></p> <p>The START RADIO option will only be seen if there is a provider that supports it. Start Radio populates the queue with tracks based on the selected track. The tracks are selected by the provider not MA. </p>"},{"location":"ui/#view-home","title":"View - Home","text":"<p>The Home View provides quick access to all of the different media types. Also shown are RECOMMENDATIONS from the providers which support this feature (e.g. Tidal). Review the Music Provider pages to identify which providers supports this feature.</p> <p>The view is fully configurable. Select the \u22ee menu on the top right and then EDIT HOMESCREEN. There is then the ability to show or hide each row and adjust the order. Return to the menu to disable the edit mode.</p> <p></p>"},{"location":"ui/#view-artist-album-track","title":"View - Artist / Album / Track","text":"<p>Album and Track Views look the same as the above except there is no album artist filter icon and the track view has an ADD VIA URL option.</p> <p>A red dot on the search icon  indicates that the viewed results are subject to filtering by search. This is useful if the search box has been closed.</p> <p>A red dot on the refresh icon  indicates that the viewed results have some sort of update pending. Press the refresh button.</p> <p>The Sync icon  will synchronise the library with all of the providers that support that mediatype.</p> <p>Items in all views can be \"right clicked\" or \"long pressed\" to bring up an extensive menu of options which is the same as that accessed by the \u22ee menu on the right. In the image above the complete list of possibilities is shown and this will vary slightly depending on the current view.</p> <p>Multiple selections of albums / artists / tracks is possible by clicking the multi-select icon. Once one or more items are selected then clicking on the \"ACTIONS\" at the bottom</p> <p></p> <p>will bring up this menu</p> <p></p> <p>The behaviour described above will work on any view where you see the \"x item(s) selected\" text.</p>"},{"location":"ui/#view-individual-artist","title":"View - Individual Artist","text":"<p>The tracks and albums sections are collapsible. The view above shows them both collapsed. The tracks section shows ALL tracks that are in the library or that are available across all of the providers. A red dot on the library icon  indicates that the viewed results are filtered to only show items that are in the library. To see what albums any given track is on you can either sort alphabetically or click on one and use the context menu and SHOW INFO.</p> <p>The album section has an additional filter option. You can choose to filter by or in any combination of ALBUM, SINGLE, COMPILATION, EP or UNKNOWN album types.</p> <p>Expanding the IMAGES section allows for the selection of Thumb, Fanart or Logo. The other types shown are not used in the UI at this time. If there are no or limited images shown or the Images section is missing then go to the \u22ee menu in the top right of the view and select UPDATE METADATA. Right click on an image to make it the primary to be used. (Similar functionality is also available in the album view for Thumb)</p> <p>The PROVIDER DETAILS section shows from where the albums and tracks listed above were obtained. It is normal to have multiple entries here if an artist has aliases or there are variant spellings, use of punctuation etc. Any indicated sample rate and bit depth are as reported by the provider and may differ during playback if transcoding is done before the audio data reaches MA. The ID shown against the streaming provider may be used in automations and scripts and is obtainable by pressing the chain link icon on the right. The external link icon opens the page for the item on the source provider.</p> <p>Note</p> <p>Copying the URI to the clipboard via the chain link icon is only allowed when the MA frontend is accessed over HTTPS due to browser security rules</p>"},{"location":"ui/#view-individual-track","title":"View - Individual Track","text":"<p>Note</p> <p>The PROVIDER DETAILS section in this view also has the functionality to play a short sample of the track on the local device</p>"},{"location":"ui/#view-browse","title":"View - Browse","text":"<p>Entering the Browse view will present a list of the installed Music Providers. Selecting one of those will show a relevant list of the items from that provider that can be browsed. </p> <p>When viewing a provider you will only see what is already in the Library of the Streaming Providers. For the local Providers you will see all files and if a folder is visited that is not already in the MA Library it will be automatically added even if it has been previously removed.</p> <p>Caution</p> <p>Be careful once browsing within the provider as selecting PLAY on a folder will play everything in that folder and all sub-folders. Attempting to play thousands of tracks may consume an excessive amount of system resources on the host and cause MA to crash or become unresponsive.</p> <p>It is this view that is used to select radio stations from the Radio Browser provider.</p>"},{"location":"usage/","title":"General","text":""},{"location":"usage/#online-metadata-sources","title":"Online Metadata Sources","text":"<p>Music Assistant relies heavily on metadata to work well and it gets this information from locally tagged files and online sources. The free online resources have limits and MA is often hitting those limits so further restrictions have been put in place. This means that:</p> <ul> <li>Online resources will be queried very slowly in the background</li> <li>Users with local files that are badly tagged or without images in the music folders will see a significant delay until artist thumbs appear</li> <li>If a track has no album artist tag, there will no longer be an attempt to look it up in musicbrainz</li> <li>Various artists will be the default option if the album artist tag is missing in local files</li> </ul> <p>Music Assistant never modifies the tags in the local files. Online metadata retrieval occurs when local data is lacking. MusicBrainz is only used for streaming providers (so not for local files) OR when the musicbrainz IDs are missing in local files and audiodb and/or fanarttv are enabled. At this time MusicBrainz is only used to get the musicbrainz id's, not for metadata itself.</p> <p>For users with local files with local artwork and also streaming providers, preferably add the local provider first and allow the sync to complete and all artwork to appear before adding the streaming providers. Not doing so can result in the streaming provider artwork to be preferred although this can be fixed by using the images section in the artist view.</p> <p>It is possible to speed the metadata retrieval for an individual item (including lyrics when a track is selected) by using the UPDATE METADATA option in the \u22ee menu in the top right corner.</p>"},{"location":"usage/#the-library","title":"The Library","text":"<p>The Music Assistant Library is a database containing details of the music which the user has indicated they are interested in listening to on a regular basis. It consists of information about Artists, Albums, Tracks, Playlists, Audiobooks, Podcasts and Radio Stations which allows easy searching, display and cross referencing across the User Interface.</p> <p>For local music providers all artists/albums/tracks/playlists are imported into the MA library when the provider is added and at each sync.</p> <p>For streaming providers ONLY the SPECIFIC artists/albums/tracks/playlists that are in the streaming providers library (or favourites or however it is termed in the provider) will be imported into the MA library when the provider is added and at each sync. This means, for example, if you have an artist in the providers library but none of their albums then all you will see in the MA library is the artist with NO associated albums or tracks. You have to subsequently add albums or tracks to the MA library if you want to see them in the library views. Note you can toggle the library / streaming provider filter option to see all that is available in the streaming provider.</p> <p>In each view there is a \u22ee menu in the top right corner. This menu has various library related functions. Two important ones are UPDATE METADATA amd REFRESH ITEM.  Update metadata only retrieves additional metadata for the item being viewed and doesn't alter any of the existing/base details, while refresh item completely re-adds the item into the database, overwriting all existing data. To update the images section or lyrics you only need to select UPDATE METADATA.</p> <p>Note</p> <p>If identical items (e.g. an album or track) have not been matched across providers or within a provider then select the item and using the \u22ee menu in the top banner select REFRESH ITEM</p> <p></p> <p>Favourites</p> <p>As a further means of filtering the library, items can be marked as a \"favourite\". This is shown in the UI as a filled heart icon. Items are not favourited by default. You can see all items if you deselect the heart icon in the top menu.</p>"},{"location":"usage/#the-queue","title":"The Queue","text":"<p>Each player has its own queue. Viewing the queue is done by pressing the  button. This button can be found on the player bar at the bottom of the UI or for narrow displays in the NOW PLAYING view.</p> <p>Selecting the PLAYED ITEMS option will show the previous items from the queue and selecting any will show a menu and this will allow a restart of the queue from that point.</p> <p></p> <p>A menu of options to control the queue is available for each upcoming track and is shown in the image above.</p> <p>Note</p> <p>What happens to the queue when the different types of items (e.g. album, artist, playlist etc) are added to it is configurable in MA SETTINGS&gt;&gt;CORE&gt;&gt;PLAYER QUEUES CONTROLLER</p> <p>The options in the menu available in the top right is shown below. Repeat and Shuffle also have buttons at the bottom in the player bar (or in the NOW PLAYING view for narrow mobile devices).</p> <p>Transferring the queue will also transfer the shuffle and repeat setting to the new player.</p> <p></p> <p>The Don't Stop The Music (DSTM) option can be enabled if a provider is available which supports dynamic tracks (i.e. Apple, Deezer, Spotify, Subsonic, Tidal and YTM). When DSTM is on, radio mode will be automatically enabled when the last track of the queue is reached and if any dynamic tracks can be resolved from one of the providers. The added tracks will be based on the played items in the queue.</p> <p>Note</p> <p>If a queue is paused for more than 30 seconds it's status will change to stopped </p> <p>Warning</p> <p>Adding thousands of tracks to the queue may cause MA to become unresponsive depending on the resources of the host hardware. It is recommended to keep the queue to one thousand tracks or less. </p>"},{"location":"usage/#playlists","title":"Playlists","text":"<p>Playlists must be stored on a provider. A music provider's playlist can only contain tracks from that provider. However, MA has a built-in provider with the ability to create playlists that have tracks from multiple music providers. In this case the playlist will be stored solely within the MA database. These options are automtically presented in the Add to Playlist dialog.</p> <p>Playlists can be created or added to from various menus in the different views. They can also be created in the Playlist view by clicking on the icon in the top right.</p> <p></p> <p>Playlists which consist of tracks from the filesystem provider will be stored in the MA database.</p> <p>User created playlists from streaming providers will be imported into the MA database and will remain synchronised regardless of whether changes are made from the MA UI or from the streaming provider's native application. Refer to the individual Music Provider pages for any limitations.</p> <p>Playlists can be copied from one provider to another by opening the source playlist and selecting all of the tracks and then in the ACTIONS menu select <code>Add to Playlist</code>.</p> <p>Automatically generated playlists from streaming providers may be supported. See the specific provider documentation for further information.</p> <p>MA automatically generates some dynamic playlists. These playlists will be updated at the sync interval set in MA SETTINGS&gt;&gt;CORE&gt;&gt;MUSIC CONTROLLER or they can be updated manually by navigating to the playlist and then pressing on the refresh icon  or by going to the \u22ee menu in the top right and selecting REFRESH ITEM.</p>"},{"location":"dsp/parametriceq/","title":"DSP Parametric Equalizer","text":""},{"location":"dsp/parametriceq/#parametric-equalizer","title":"Parametric Equalizer","text":"<p>A Parametric Equalizer (PEQ) is a powerful tool for fine-tuning audio. Unlike simpler tone controls, a PEQ allows precise adjustment of specific frequency ranges.</p> <p>PEQs can be used to tailor the sound to a room's acoustics, compensate for speaker or headphone characteristics, or to fine-tune the frequency balance to personal taste. MA supports the application of corrections to both channels (left and right) identically or individually.</p> <p>Multiple PEQ filters can be added to the MA signal path if desired.</p>"},{"location":"dsp/parametriceq/#usage","title":"Usage","text":"<p>There is a button at the top of the display which enables multi-channel options. Enabling this shows additional channel selection boxes and allows for the application of corrections on a per channel basis.</p>"},{"location":"dsp/parametriceq/#frequency-band-adjustment","title":"Frequency Band Adjustment","text":"<p>Unlimited bands can be added to the PEQ which can affect all channnels, or the left or the right individually. For each band it is possible to control:</p> <ul> <li> <p>Frequency: The center frequency to be adjusted (e.g., 100Hz for bass, 1kHz for midrange, 10kHz for treble).</p> </li> <li> <p>Gain: How much boost (increased volume) or cut (decreased volume) to be applied to that frequency, measured in decibels (dB).</p> </li> <li> <p>Q (Quality Factor): This determines the width of the frequency range affected. A higher Q means a narrower, more focused adjustment, while a lower Q creates a broader, gentler change.</p> </li> <li> <p>Filter Type: This determines the shape of the adjustment. The available options are Peak (aka Bell), High Shelf, Low Shelf, High Pass, Low Pass, and Notch.</p> </li> </ul>"},{"location":"dsp/parametriceq/#preamp","title":"Preamp","text":"<p>The PEQ also allows for a preamp gain adjustment. Whilst this will create the same effect as the the gain adjustment in the input stage, having it here means that the value can be imported and exported. Additionally, if a PEQ setting overall makes the signal quieter, then adjusting the gain here means that when enabling/disabling the eq, the volume will stay the same.</p>"},{"location":"dsp/parametriceq/#presets","title":"Presets","text":"<p>If you have measured your speakers, or want to correct your headphones with AutoEQ, you can automatically import a preset into this filter.</p> <p>Music Assistant accepts Equalizer APO's Parametric EQ file format which is widely adopted in various applications, and this import functionality also works seamlessly with Room EQ Wizard (REW)'s <code>Export filter settings as text file format</code>. While not all filter types are supported (Modal, BP, LSC x dB, HS x dB, AP, LS with dB slope, HS with dB slope), the most important ones are functional.</p> <p>It is possible to import Equalizer presets from various sources including, EasyEffects (as APO preset) and REW-compatible presets from HouseCurve</p> <p>The Equalizer can also be exported for use in other applications. For example, the data could be used in: APO, another Music Assistant instance, or EasyEffects.</p>"},{"location":"dsp/parametriceq/#multi-channel","title":"Multi-Channel","text":"<p>There are multiple formats for PEQ preset files when separate left and right channels are defined. When importing multi-channel preset files, proceed as follows:</p> <ul> <li>If there is only a single preset which contains the settings for both channels, simply import the file with the <code>Import APO/REW Preset</code> button</li> <li>If there are separate preset files for each channel:<ol> <li>Enable Multi-channel controls</li> <li>Select the Left channel</li> <li>Import the preset for the Left channel with the <code>Import APO/REW Preset</code> button</li> <li>Select the Right channel</li> <li>Import the preset for the Right channel with the <code>Import APO/REW Preset</code> button</li> </ol> </li> </ul> <p>The <code>Export APO Preset</code> button will make a single preset file which contains information about both channels if there are any multi-channel specific options activated.</p>"},{"location":"dsp/tonecontrols/","title":"DSP Tone Controls","text":""},{"location":"dsp/tonecontrols/#tone-controls","title":"Tone Controls","text":"<p>Tone controls provide simple frequency adjustments, which allows the boosting or reducing of the bass and treble regions of the music sent to the player.</p>"},{"location":"dsp/tonecontrols/#usage","title":"Usage","text":"<p>There are three controls available, Bass, Mid and Treble. These correspond to a range of frequencies centred on 100Hz, 900Hz and 9000Hz. Boosting or cutting the volume of the audio signal around these centres is accomplished by adjusting the three sliders.</p>"},{"location":"dsp/tonecontrols/#technical-details","title":"Technical Details","text":"<p>The tone controls apply a basic three frequency Parametric Equaliser filter to the audio signal utilising the Peak (aka Bell) filter type. The following image shows the resultant effect of setting all three controls to +4.0dB</p> <p></p>"},{"location":"faq/get_library/","title":"Get Library Action","text":""},{"location":"faq/get_library/#ma-get_library-action","title":"MA get_library Action","text":"<p>This action allows you to retrieve the full details of the items from the library</p> <p></p> <p>As can be seen there are a large number of filter options available.</p> <p>The favorite option works in three ways:</p> <ul> <li>If the option is unchecked on the left then favorites and non-favorites will be returned</li> <li>If the option is checked on the left but the switch on the right is off then only non-favorites will be returned</li> <li>If the option is checked on the left but the switch on the right is on then only favorites will be returned </li> </ul> <p>The returned JSON is extensive. The returned data can be used in templates.</p>"},{"location":"faq/get_library/#example","title":"Example","text":"<p>In this example a queue of 10 random tracks is created.</p> <pre><code>script:\n  create_random_queue:\n    mode: single\n    sequence:\n      - service: music_assistant.get_library\n        data:\n          limit: 10\n          media_type: track\n          config_entry_id: 01JEXNDHT21V0BHJXM7A5SZANV\n          order_by: random\n        response_variable: random_tracks\n      - repeat:\n          count: \"{{ random_tracks['items'] | length }}\"\n          sequence:\n            - action: music_assistant.play_media\n              data:\n                media_id: \"{{ random_tracks['items'][repeat.index - 1].uri }}\"\n                media_type: track\n                enqueue: add\n              target:\n                entity_id: media_player.ma_kitchen_speaker\n</code></pre>"},{"location":"faq/get_queue/","title":"Get Queue Action","text":""},{"location":"faq/get_queue/#ma-get_queue-action","title":"MA get_queue Action","text":"<p>This action allows you to retrieve the details of a queue</p> <p></p> <p>The returned JSON is extensive and includes information about the current and next item in the queue. The returned data can be used in templates.</p>"},{"location":"faq/get_queue/#example","title":"Example","text":"<pre><code>script:\n  get_now_playing:\n    mode: queued\n    alias: \"Get Now Playing Track Name\"\n    sequence:\n      - action: music_assistant.get_queue\n        data:\n          entity_id: media_player.ma_kitchen_speaker\n        response_variable: queue_info\n      - service: input_text.set_value\n        data:\n          entity_id: input_text.now_playing\n          value: '{{ queue_info['media_player.ma_kitchen_speaker'].current_item.name[:50] }}'\n</code></pre>"},{"location":"faq/groups/","title":"Frequently Asked Questions - Groups","text":""},{"location":"faq/groups/#groups","title":"Groups","text":"<p>Note</p> <p>Do not delete or disable a player which is in a group while the group is playing</p> <p>Music Assistant uses four types of groups (these are outlined in the Grouping Players section and three of the types are described in detail below) which provides a flexible way to combine players together. When a group is powered on then playback to individual members of the group is no longer possible. To play to an individual member, the group must be powered off or the individal player must be removed from the group. If the group is still powered on then players can only be removed from Temporary Sync Groups, or from Sync Groups and Universal Groups which have the dynamic member option enabled. When allowable, players can be removed by using the checkboxes in the Player List or by using the HA media_player.unjoin action.</p> <p>See also the section on Announcements Group Behaviour.</p>"},{"location":"faq/groups/#temporary-sync-group","title":"Temporary Sync Group","text":"<p>Temporary Sync Group players are configured via the Player List or HA action. This type of group provides a very flexible way to create and destroy Sync Groups as the players can be added or removed at any time. </p>"},{"location":"faq/groups/#features","title":"Features","text":"<ul> <li>Players can be dynamically added or removed before or during playback</li> <li>Players in the group will play in perfect sync</li> <li>The HA actions of media_player.join and media_player.unjoin can be used to manage this type of group</li> </ul>"},{"location":"faq/groups/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Players can be linked via the checkbox in the Player List</li> <li>Only like player types that support synced playback are allowed to be joined</li> <li>When players are grouped in this way only the main player holds the queue. For example, player A has an existing queue and players B and C are joined to player A. If player A is turned off players B and C will stop</li> <li>Some player types may pause momentarily as a new device is joined</li> <li>HA automations could be used to quickly create an often used group of players </li> </ul>"},{"location":"faq/groups/#sync-groups","title":"Sync Groups","text":"<p>These are permanent group players that are configured via the MA settings. These should be used when the make up of the group will rarely change and it is desired that the players will typically all continuously play music. A player cannot be removed from the group if the group is playing although it can be muted (or volume reduced to 0). If there is a need to add or remove additional players then enable the dynamic members option or switch to using a manual sync group. At power on/off of the syncgroup the original set of members will be restored.</p> <p></p> <p>After selecting ADD GROUP PLAYER as shown above, the group configuration screen will appear where the group type must be selected. You need to specify a name for the group player. The order that the players are selected when the group is created will be the order that the players are shown when viewing the group in the Player List.</p> <p>Tip</p> <p>Remember Chromecast devices must be grouped in the Google Home app for perfect sync</p>"},{"location":"faq/groups/#features_1","title":"Features","text":"<ul> <li>The native player types shown (i.e. not the Universal Group option) support perfect sync</li> <li>In addition to playing in sync the group will hold the queue regardless of which player(s) in the group are powered off</li> </ul>"},{"location":"faq/groups/#known-issues-notes_1","title":"Known Issues / Notes","text":"<ul> <li>As mentioned above the group player holds the queue rather than any individual player. However, if the group leader is lost then playback will stop but the queue can be restarted</li> <li>The group will not power on if one of the child players is synced to another group</li> <li>If, in the group settings, the player friendly name has been replaced by an unusual ID then likely the player was seen by the MA logic as unavailable. Check the individual player status</li> <li>When adding a player to an already playing group, AirPlay, Snapcast and Sonos will keep playing but all other types will pause for a very brief period to resync</li> </ul>"},{"location":"faq/groups/#universal-groups","title":"Universal Groups","text":"<p>Music Assistant has support for grouping dissimilar playback devices. Configuration is done in the same manner as described in the Sync Groups section with UNIVERSAL selected as the Group Type. These groups also support the dynamic member option.</p>"},{"location":"faq/groups/#features_2","title":"Features","text":"<ul> <li>All devices can be grouped and will play the same audio but will not play the audio in sync. Use this playertype only for players that are not in close range to each other</li> <li>See the individual player providers page for any specific limitations</li> </ul>"},{"location":"faq/groups/#known-issues-notes_2","title":"Known Issues / Notes","text":"<ul> <li>This type of group should be avoided if a Sync Group or Native Group can be used</li> <li>Universal Groups can include sync groups but not other universal groups</li> <li>When adding a player to an already playing group, MA will try and join seamlessly but there may be a slight pause with some player types</li> <li>The group will not power on if one of the child players is synced to another group</li> <li>The group will power on if one or more of the child players is unavailable</li> <li>If, in the group settings, the player friendly name has been replaced by an unusual ID then likely the player was seen by the MA logic as unavailable. Check the individual player status</li> <li>Universal Groups are on a best-effort basis and might not work correctly with all player models or give unexpected results</li> </ul>"},{"location":"faq/how-to/","title":"Frequently Asked Questions - How Do I...?","text":""},{"location":"faq/how-to/#get-the-uri","title":"Get the URI?","text":"<p>For playlists, artists, albums and radio you can simply use the name.</p> <p>For tracks you can use the name but that may result in ambiguous responses so you can limit by artist name by using <code>Billy Joel - A Matter of Trust</code>. If that is still ambiguous, then the action has additional options which you can use to further restrict the search. For example:</p> <pre><code>data:\n  media_type: track\n  media_id: Running on Ice\n  artist: Billy Joel\n  album: The Bridge\n</code></pre> <p>Similarly, if the album name is ambiguous you can specify the artist name first (<code>Queen - Greatest Hits</code>)</p> <p>You can also use the <code>music_assistant.search</code> or <code>music_assistant.get_library</code> actions and the URI will be shown in the results. The URI is also shown in the Provider Details section at the bottom of the item views and can be copied to the clipboard using the chain link icon.</p> <p>Note</p> <p>URIs which begin with <code>media-source://</code> are HA URIs and should not be used when targetting MA player entities. Doing so will result in inconsistent behaviour.</p> <p>URIs for folders need to be constructed in the form <code>filesystem_id://folder/relative/path/to/folder</code> (e.g. <code>filesystem_smb--5iJ4npRi://folder/ABBA</code>), The filesystem_id can be obtained by reviewing the output of the <code>get_library</code> action. Scan for the key <code>tracks.provider_mappings.provider_instance</code> and find one that shows the filesystem_id. Having said that, if there is only one file system provider added to MA then <code>filesystem_smb</code> can be used.</p>"},{"location":"faq/how-to/#use-volume-normalization-how-does-it-work","title":"Use volume normalization? How does it work?","text":"<p>After a track has been played by MA once then data is retained for volumes to be normalised across all tracks being played. The setting in MA is the target level for the volume normalisation. MA does not compress the dynamic range (because that is bad for quality) but just adjusts the gain of the entire track based on its overall loudness as measured by the EBU R128 standard. A greater negative value will typically make the track sound less loud but leaves a lot of headroom. However, for each individual track the gain could rise or fall to ensure that the overall loudness of all tracks played is at the selected level. It is recommended to use a value between -23 and -17 LUFS (and -17 is the default starting point). Do not set it too high (close to zero) because that can make your music sound distorted due to clipping.</p> <p>More details here</p>"},{"location":"faq/how-to/#have-my-music-continue-if-i-change-rooms","title":"Have my music continue if I change rooms","text":"<p>There are three options. 1. Start streaming to any type of group that includes all the rooms you will move between. Mute all the rooms except the one you are in. When you move rooms just mute and unmute the required players. 2. Use a Sync Group with the dynamic members option turned on, or a Manual Sync group. As you change rooms then join the new room to the existing group. What to do with the other players in the group depends upon the group type and whether the player is the group leader (Sync Group) or holds the queue (Manual Sync). The options are unjoining the player from the group or muting it. For more information read up on Groups 3. Use the Transfer Queue action.</p>"},{"location":"faq/how-to/#shuffle-spotifyplaylistyoutube-etc","title":"Shuffle Spotify/Playlist/YouTube etc","text":"<p>You don't shuffle the music providers you enable shuffle on the queue for the player and then whatever gets added to the queue gets shuffled. You enable shuffle on the queue from within MA by selecting the Shuffle Icon on the Player Bar or you can select the NOW PLAYING View, then the context menu Top Right then ENABLE SHUFFLE or you can do it with yaml as follows: </p><pre><code>action: media_player.shuffle_set\ntarget:\n  entity_id: media_player.mass_bath\ndata:\n  shuffle: true\n</code></pre>"},{"location":"faq/how-to/#add-items-to-the-queue-via-a-script-or-automation","title":"Add items to the queue via a script or automation","text":"<pre><code>action: media_player.play_media\ntarget:\n  entity_id: media_player.mass_player_entity_goes_here\ndata:\n  media_content_id: NameOfTheAlbumArtistOrPlaylistHere\n  media_content_type: music\n</code></pre> <p>See here for enqueue options</p> <p>See also music_assistant.play_media action</p>"},{"location":"faq/how-to/#start-a-playlist-with-a-script","title":"Start a playlist with a script","text":"<p>Use the <code>media_player.play_media</code> action shown above or <code>music_assistant.play_media</code> action as described here.</p>"},{"location":"faq/how-to/#play-a-random-item","title":"Play a Random Item","text":"<p>Use get_library and an script/automation such as this:</p> <pre><code>sequence:\n  - action: music_assistant.get_library\n    data:\n      media_type: track\n      search: ARTISTNAME\n      limit: 1\n      order_by: random\n    response_variable: random_track\n  - action: music_assistant.play_media\n    data:\n      media_id: \"{{ random_track['items'][0].uri }}\"\n      media_type: track\n      enqueue: play\n      radio_mode: true\n    target:\n      entity_id: media_player.ma_kitchen_speaker\n</code></pre> <p>If you want a queue of tracks then:</p> <pre><code>sequence:\n  - action: music_assistant.get_library\n    data:\n      media_type: track\n      search: ARTISTNAME\n      limit: 10\n      order_by: random\n    response_variable: random_tracks\n  - repeat:\n      count: \"{{ random_tracks['items'] | length }}\"\n      sequence:\n        - action: music_assistant.play_media\n          data:\n            media_id: \"{{ random_tracks['items'][repeat.index - 1].uri }}\"\n            media_type: track\n            enqueue: add\n          target:\n            entity_id: media_player.ma_kitchen_speaker\n</code></pre> <p>This could be modified for other item types (e.g. radio stations or playlists). </p>"},{"location":"faq/how-to/#clear-the-queue-with-a-script-or-automation","title":"Clear the queue with a script or automation","text":"<p>Use the HA action of <code>media_player.clear_playlist</code> or the new <code>music_assistant.play_media</code> action and select the appropriate enqueue option if wanting to clear the queue and play something else.</p>"},{"location":"faq/how-to/#add-radio-stations-to-ma","title":"Add radio stations to MA","text":"<p>If you use the TuneIn provider then stations that are favourited in your account will appear.</p> <p>If you use the RadioBrowser provider then BROWSE the provider and select ADD TO LIBRARY for the station desired.</p> <p>Direct entry of stations can be done by navigating to the radio stations page and selecting the menu top right and ADD ITEM FROM URL This will also work for locally hosted streams such as from Icecast. </p>"},{"location":"faq/how-to/#start-a-radio-stream-with-an-automation","title":"Start a radio stream with an automation","text":"<p>Use the <code>music_assistant.play_media</code> action and set the <code>media_id</code> as the station name.</p>"},{"location":"faq/how-to/#go-to-nextprevious-radio-station-via-a-script","title":"Go to next/previous radio station via a script","text":"<p>Create an <code>input_select</code> with the various radio stations as options. Now you can use next and previous actions to switch between the stations.</p> <p>To generate the list of radio stations dynamically use a suitable automation trigger and a script such as this: </p><pre><code>script:\n  generate_station_list:  \n    mode: queued\n    alias: \"Generate Station List\"\n    sequence:\n      - action: music_assistant.get_library\n        data:\n          limit: 40\n          config_entry_id: 01JMYCMQJ55CR9E7YZW3VKEA4F\n          media_type: radio\n          favorite: true\n          order_by: name  \n        response_variable: radio_stations\n      - action: input_select.set_options\n        target:\n          entity_id: input_select.radio_station_list\n        data:\n          options: \"{{ radio_stations['items'] | map(attribute='name') | list }}\"    \n</code></pre>"},{"location":"faq/how-to/#create-playlists-or-use-m3u-files","title":"Create playlists or use M3U files","text":"<p>You can create playlists from the MA UI. Adding items can also be done from the UI.</p> <p>If wanting to create playlists manually acceptable formats are: </p><pre><code>(file in same folder as playlist):\n05 Blue Christmas.flac\n\nand this (file is in subfolder relative to the playlist file):\nElvis Presley/Blue Christmas/05 Blue Christmas.flac\n\nand this (file has an absolute path):\n/Users/marcel/media/music/b05 Blue Christmas.flac\n\nand this (full uri):\nspotify://track/12345\nor\nfilesystem_smb://track/blah\n</code></pre> <p>Relative paths to the playlist (e.g.<code>../Mariah Carey/Merry Christmas/02 All I Want for Christmas Is You.flac</code> ) also work.</p> <p>M3U, M3U8 and PLS playlists are supported. VLC can be used to easily create playlists that MA can use.</p>"},{"location":"faq/how-to/#stop-the-music-after-a-period-of-time-aka-sleep-timer","title":"Stop the music after a period of time aka Sleep Timer","text":"<pre><code>sequence:\n  - wait_for_trigger:\n      - platform: state\n        entity_id:\n          - media_player.mass_all_rooms\n        attribute: media_title\n    continue_on_timeout: false\n  - action: media_player.turn_off\n    data: {}\n    target:\n      entity_id:\n        - media_player.mass_all_rooms\nmode: single\nalias: Stop after current track\n</code></pre> <p>Thanks to AAsikki who showed us here</p>"},{"location":"faq/how-to/#use-ma-with-mopidy","title":"Use MA with Mopidy","text":"<p>See here https://github.com/orgs/music-assistant/discussions/439</p>"},{"location":"faq/how-to/#run-ma-when-i-have-ssl-setup-on-my-internal-network","title":"Run MA when I have SSL setup on my internal network?","text":"<p>Trying to run MA with SSL is not recommended. Having said that, whilst you can not run the stream service behind SSL you can configure the frontend entirely to your requirements. The default is that the frontend is protected by Ingress in HAOS. For those using docker, it is possible to host the webserver on a desired port and then run a (Ingress) reverse proxy. No support will be provided for these setups, we recommend you use HAOS.</p>"},{"location":"faq/how-to/#get-the-ma-icon-in-the-ha-sidebar","title":"Get the MA icon in the HA sidebar?","text":"<p>If you are running the addon within the HA host go to SETTINGS&gt;&gt;ADDONS&gt;&gt;MUSIC ASSISTANT and select \"Show in sidebar\".</p> <p>If you are using docker then you can use an iframe panel or you can use another custom integration called hass_ingress which allows you to add additional ingress panels to your Home Assistant frontend. </p>"},{"location":"faq/how-to/#add-a-rotary-encoder-with-push-button-to-a-picoreplayer","title":"Add a rotary encoder with push button to a piCorePlayer","text":"<p>See here</p>"},{"location":"faq/how-to/#access-my-music-on-nextcloud","title":"Access my music on Nextcloud?","text":"<p>The Nextcloud Music App supports Subsonic so you can use that provider in MA to connect. </p>"},{"location":"faq/how-to/#access-the-ma-views-directly-via-url","title":"Access the MA Views directly via URL","text":""},{"location":"faq/how-to/#player-selection","title":"Player Selection","text":"<p>A specific player (or the last known) can be selected when opening the view by adding <code>player=</code> to the home URL. You can use a MA player name or <code>true</code> to open the last known. Player names are not case sensitive.</p> <p>Examples</p> <ul> <li>http://192.168.1.1:8095/#/home?player=true</li> <li>http://192.168.1.1:8095/#/home?player=Livingroom</li> </ul>"},{"location":"faq/how-to/#frameless-view","title":"Frameless View","text":"<p>Display the relevant view without the Player Bar or Main Menu</p> <p>Examples</p> <ul> <li>http://192.168.1.1:8095/#/albums?frameless=true</li> <li>http://192.168.1.1:8095/#/playlists?player=kitchen%20speaker&amp;frameless=true</li> </ul>"},{"location":"faq/how-to/#now-playing-view","title":"Now Playing View","text":"<p>Display the Now Playing view </p> <p>Examples</p> <ul> <li>http://192.168.1.1:8095/#/home?player=true&amp;showFullscreenPlayer=true</li> <li>http://192.168.1.1:8095/#?player=true&amp;showFullscreenPlayer=true</li> <li>http://192.168.1.1:8095/#/home?player=Livingroom&amp;showFullscreenPlayer=true</li> </ul>"},{"location":"faq/how-to/#play-a-playlist-or-any-item-in-a-different-order","title":"Play a Playlist (or any item) in a Different Order","text":"<p>Playlists will be played in the order that they were created. Changing the displayed order has no impact on the played order. If playing in the displayed order is desired then select the multi-select button in the menu  bar and then use CTRL-A or manually select the tracks and then in the floating ACTIONS menu play the tracks.</p>"},{"location":"faq/how-to/#create-multiple-shairportsync-instances-on-the-same-host","title":"Create Multiple ShairportSync-Instances on the same Host","text":"<p>A tutorial is available here</p>"},{"location":"faq/massannounce/","title":"Play Announcement Action","text":""},{"location":"faq/massannounce/#ma-play_announcement-action","title":"MA play_announcement Action","text":"<p>This action allows you to send audio announcements via a URL to a player. The URL could be accessed in a variety of ways. For example:</p> <ul> <li>External such as <code>https://www.soundjay.com/door/doorbell-5.mp3</code> </li> <li>Using Home Assistant you can add the sound files under your <code>www</code> folder and access them like this <code>http://192.168.1.165:8123/local/audio/Apartment-door-chime-melody.mp3</code></li> <li>You could run your own webserver</li> </ul> <p></p> <p>Note</p> <p>For sending text messages use the HA TTS service calls and target the MA media player entity. There are a number of options available to control the volume of announcements in the MA settings for each player.</p> <pre><code>service: tts.google_say\n  data:\n    entity_id: media_player.ma_kitchen_speaker\n    message: This is a test\n</code></pre>"},{"location":"faq/massplaymedia/","title":"Play Media Action","text":""},{"location":"faq/massplaymedia/#ma-play_media-action","title":"MA play_media Action","text":"<p>This action allows you to finely select the media to play. Create your service call or automation via the HA GUI or YAML</p> <p>You can use a name together with the media type</p> <p></p> <p>Or just a URI</p> <p></p> <p>Or the library id together with the media id</p> <p></p> <p>Or a track defined with the artist name, media type is recommended but optional</p> <p></p> <p>You can also have a list of items</p> <p></p> <p>Or a list of uris which can even be from different music providers</p> <p></p> <p>Note</p> <p>The regular <code>media_player.play_media</code> service call also accepts all of the above but it cannot take multiple items</p> <p>Note</p> <p>When adding multiple items they must be preceded by a hyphen as shown in the images above</p> <p>There are additional options as well. Enqueue will appear when an entity that supports it is selected.</p> <p></p> <p>Radio Mode</p> <p>You can only use the album, artist, track or playlist media_type if enabling Radio Mode. Radio Mode can only be used if a provider is available which supports dynamic tracks (e.g Apple, Deezer, Spotify,  Subsonic, Tidal and YTM).</p>"},{"location":"faq/masssearch/","title":"Search Action","text":""},{"location":"faq/masssearch/#ma-search-action","title":"MA search Action","text":"<p>This action does a global search across all providers </p> <p></p> <p>This will return something like this</p> <p></p> <p>You could then use a template to extract what you need and then use the <code>play_media</code> service call. For example:</p> <pre><code>script:\n  search_ma:\n    mode: queued\n    alias: \"Jukebox MA search\"\n    sequence:\n      - action: music_assistant.search\n        data:\n          limit: 8\n          name: \"{{ states.input_text.jukebox_search.state}}\"\n        response_variable: results\n      - action: input_text.set_value\n        data:\n          entity_id: input_text.jukebox_track_1\n          value: '{{ results.tracks[0].name }}'\n      - action: input_text.set_value\n        data:\n          entity_id: input_text.jukebox_artist_1\n          value: '{{ results.tracks[0].artists[0].name }}'\n</code></pre>"},{"location":"faq/masstransfer/","title":"Transfer Queue Action","text":""},{"location":"faq/masstransfer/#ma-transfer_queue-action","title":"MA transfer_queue Action","text":"<p>This action allows you to transfer a player queue to a different player</p> <p></p>"},{"location":"faq/stream-to/","title":"I Want To Stream To","text":""},{"location":"faq/stream-to/#my-local-ha-device","title":"My Local HA Device","text":"<p>Install the squeezelite addon which will then allow streaming over an audio connection from the HA host to your speaker or amplifier</p>"},{"location":"faq/stream-to/#my-random-connected-device","title":"My Random Connected Device","text":""},{"location":"faq/stream-to/#streaming-to-a-squeezelite-compatible-client","title":"Streaming to a Squeezelite Compatible Client","text":"<p>Install any Squeezelite compatible application (i.e. a Squeezelite software client, sometimes also refered to as \"Squeeze Lite\" apps) to your mobile or other devices and then MA should be able to stream to it.</p> <p>If you have Squeezelite compatible clients on your local network then MA will be able to automatically detect and stream to them, (this works via Squeezelite compatibility without you needing to add any specific configuration or credentials for it). Note that Squeezelite clients usually do not have any user interface of their own and as such must be controlled via Music Assistant.</p> <p>See here for an example on on how to run squeezelite on Windows</p> <p>The Music Assistant Companion App can also be configured to run a squeezelite client which will allow playback to the device running it.</p>"},{"location":"faq/stream-to/#my-esp32-based-device","title":"My ESP32 Based Device","text":"<p>If the hardware has at least 4MB of flash and 4MB of PSRAM it will be capable of running squeezelite directly. Use the Squeezelite ESP32 firmware. A nice pre-made solution with speaker terminals is the Louder ESP32</p> <p>If the ESP32 device has other firmware on it that has been discovered by Home Assistant then use the Home Assistant Player Provider to expose the HA media player entitiy to MA. If the exposed player is running ESPHOME then consider changing the Output Codec to <code>MP3 (lossy)</code> (if it isn't already the default) in the player settings as this may be all the player can handle.</p> <p>There is a Snapclient port which could also be used.</p>"},{"location":"faq/stream-to/#my-bluetooth-speaker","title":"My Bluetooth Speaker","text":"<p>If you have a spare Raspberry Pi (any model) then PiCoreplayer is an excellent solution than can also connect to Bluetooth speakers. </p>"},{"location":"faq/stream-to/#my-browser","title":"My Browser","text":"<p> Play to the built-in THIS DEVICE player.</p> <p> Use a Snapserver and the Snapweb option. If you enabled the Snapcast provider in MA then the built in server will be accessible on port 1780 on the IP address of your MA server or you can also use an external server which has been added to MA as a player provider.</p>"},{"location":"faq/stream-to/#my-android-phone","title":"My Android Phone","text":"<p> Play to the built-in THIS DEVICE player.</p> <p> Use the Snapcast App and the Snapserver Provider</p>"},{"location":"faq/stream-to/#music-assistant","title":"Music Assistant","text":"<p>You could use Darkcast to capture and Icecast to build a solution that will digitize and stream audio from your analog audio equipment like a vinyl record player (turntable/phonograph/gramophone) as a web radio stream (URL) that you could add as a radio station in Music Assistant.</p> <p>For such a project you need an audio-capture and ADC (analogue-to-digital converter) device that provides audio-input and digitalization. For example, you can use either a USB Audio Device Interface adapter from Behringer or IK Multimedia, or a HiFiBerry board with ADC.</p> <p>You can find a generic tutorial here, and for those that like step-by-step guides look here and here (the first of which also offers a pre-configured Linux appliance image for Raspberry Pi 3 / Raspberry Pi Zero 2 W). </p>"},{"location":"faq/stream-to/#web-radio","title":"Web Radio","text":"<p>You can indirectly stream to a device which only accepts a URL such as a Web Radio. In order to do so you will need to be running Home Assistant and do this:</p> <ul> <li>Install https://github.com/Poeschl-HomeAssistant-Addons/mpd (this will create an mpd media_player entity)</li> <li>Enable httpd_output in the mpd addon (which allows for web streaming)</li> <li>Use the HA media player plugin in Music Assistant and select mpd as the output</li> </ul> <p>Thanks to Manuel R\u00fcger who showed us here</p>"},{"location":"faq/stream-to/#a-device-i-am-yet-to-purchase","title":"A device I am yet to purchase!","text":"<p>A summary of the capabilities of the player providers available in Music Assistant is available here.</p> <p>In general terms the protocols/devices that should give you minimum to no setup difficulty are:</p> <ul> <li>Any device/speaker that supports AirPlay</li> <li>Any device/speaker that supports the Google Cast protocol (also known as cast builtin)</li> <li>Squeezebox hardware</li> <li>Squeezelite based players</li> <li>Sonos</li> </ul> <p>We don\u2019t believe most people can hear the difference in sample rates above CD quality so AirPlay is highly recommended. It has a good sync protocol and is widely implemented in consumer devices. For most people they should consider what they already have and fit in with that (unless it\u2019s DLNA then consider changing due to the quirks of some devices) and their budget.</p> <p>Bluesound is shown in the player provider table as not supporting sync. That is with the current MA implementation which should change in the future. For clarity, Bluesound devices do support sync.</p> <p>Note that many Sonos devices can be synced with AirPlay devices which is another plus for AirPlay.</p> <p>Lastly, if grouping of players is planned and use of the DSP settings is desired then review which protocols support DSP in this circumstance in the DSP Settings description</p> <p>The following table is a non-exhaustive list of possible solutions:</p> Device or Software Price# Supported Protocols +Amp^ Pros and Cons PiCorePlayer* (DIY) $ Squeezelite, AirPlay Y Pros: Cheap, Runs on RPi 1, Streams over BluetoothCons: Requires some technical knowledge to install the free software WiiM Pro $$ Squeezelite, AirPlay, Google Cast Audio, DLNA Y Pros: Minimal setup, versatileCons: Cheaper options available, Cast requires app to have sync\u2019ed group WiiM Mini $ AirPlay, DLNA Y As per Wiim Pro FiiO SR 11 $$ AirPlay Y As per Wiim Pro Louder ESP32 (DIY) $ Squeezelite, AirPlay, Snapcast N Pros: CheapCons: Requires some technical knowledge to install the software Home Assistant (HA) Voice PE $ Home Assistant Integration Y Pros: All local voice control and playback device, Strong SupportCons: Requires HA as well Amplifiers/Receivers + Cast $$$ Google Cast N Pros: Minimal setup, Higher amplification, High Quality AudioCons: Expensive, Cast requires app to have sync\u2019ed group Amplifiers/Receivers + AirPlay $$$ AirPlay N Pros: Minimal setup, Higher amplification, High Quality AudioCons: Expensive SonosIkea Symfonisk $$ \u2192 $$$ Sonos (Many devices also AirPlay) Y/N~ Pros: Minimal setup, High Quality AudioCons: Potentially Limited to Sonos ecosystem depending upon device Bluesound Products $$$ Bluesound, AirPlay Y/N~ Pros: Minimal setup, Exceptional Sound QualityCons: Expensive <p># Price: $ &lt;100USD; $$ 101-250USD; $$$ &gt;250USD</p> <p>^ Does the device need a separate amplifier? This will be yes unless the device can drive speakers to fill a room with quality sound.</p> <p>~ Depends on the product</p> <p>* If you want better sound quality from your Pi you could add a HiFiBerry or a Raspberry PI Media Center Hat</p> <p>(DIY) Device requires software installation and/or additional hardware (e.g. powersupply, case)</p>"},{"location":"faq/tech-info/","title":"Technical Information","text":""},{"location":"faq/tech-info/#technical-information","title":"Technical Information","text":"<p>This section contains more indepth technical information regarding Music Assistant's workings for those interested.</p>"},{"location":"faq/tech-info/#volume-normalization","title":"Volume Normalization","text":"<p>The normalization value to totally avoid clipping should be -23 LUFS based on this official documentation https://tech.ebu.ch/docs/r/r128.pdf but values differ per plattform so it is complicated to get the right value.</p> <p>Here is a good document from the mastering plugin developer izotope comparing different plattforms like YouTube, Spotify, Deezer, Tidal and many more. This page explains the whole topic very well</p> <p>Noting the above, the default value is -17 which should be a good compromise in 99% of cases. MA originally had it set the to EBU's standard value of -23 but then there were complaints from people finding the music too silent.</p> <p>In general, it is not recommended to turn off the volume normalization because there are so many different loudness levels, especially if music is played from different sources. MA uses an integrated loudness level based on the EBU-R128 standard and only adjusts gain of the entire track up or down so there is no compression of dynamic range as long as you use a value low enough to keep headroom. MA's limiter is set to -1.5dB to prevent clipping. It's the user's responsibility to use sane values for the target level of the volume normalization, we recommend a value somewhere between -23 and -12 LUFS. The default value is set to -17 LUFS.</p> <p>If audio is only played from one single source (e.g. Deezer) and that audio source already has normalized its audio files, then its safe to disable normalization in MA. If audio is played from different sources or audio is not normalized at the source, it is highly recommended to leave normalization enabled for the best experience.</p> <p>NOTE that all audio is analyzed at playback time. If no Integrated loudness measurement is available for an audio source, MA will fallback to a dynamic normalizer which is less accurate but will at least prevent a sudden drop or spike in the volume level. See the settings we provide to finetune the behavior in the settings of the Streamserver, which you can find in the settings menu under the core controller section.</p> <p>More technical details</p> <p>If volume normalization data is already available for a track via a replay gain tag then that will be used in lieu of the following process. This is true even if the tag information is added after the measurement has been taken.</p> <p>All tracks are processed internally as raw pcm by Music Assistant. So everything that is played will be first decoded to raw pcm of 32 bits floating point in the sample rate of the origin (unless explicit resampling is enabled/needed, such as when flow mode is enabled), and the gain adjustment is done while extracting the raw source media so the pcm chunks passed into the streaming engine have the gain adjustment applied. In this way there should be enough headroom within the (final) 16 or 24 bits bit depth. If a playback target does not support bit depths higher than 16 bits, dithering will be applied to bring the signal down again to 16 bits without quality loss.</p> <p>All further processing in MA is done at PCM raw audio level, such as the DSP Settings - if \"flow mode\" is enabled crossfading is also done on the raw pcm chunks but that will resample all audio into one static sample rate and bit depth to create one \"flow\" of audio to send to the player.</p> <p>The final part in the chain is that MA needs to send the audio to the player. By default we encode the raw PCM into FLAC because it is lossless while still providing a descent amount of compression. For players that can not handle FLAC very well, or simply to save bandwidth, we provide an option (per player) to encode to MP3 instead.</p> <p>The Streamserver Settings contains a number of options which determine how Volume Normalization will perform. Additionally, the Individual Player Settings provides access to options to enable and disable this feature as well as adjusting the target level.</p>"},{"location":"faq/tech-info/#track-queueing","title":"Track Queueing","text":"<p>MA has 2 ways of enqueuing tracks to players:</p> <p>NATIVE ENQUEUE SUPPORT The player has native enqueue support so we tell it what the next track will be right before the current one ends. This is a special feature that not all players support. Its supported (and by default enabled) for example on Squeezelite, Google Cast and Sonos players. Some DLNA players support it but others don't so we offer a player setting to enable it so a user can try and see if the player accepts it. The benefit of this is full support gapless playback and, in the case of Squeezelite and Sonos, also crossfade. Full metadata will also be sent to the player which is currently playing.</p> <p>FLOW MODE As an alternative to native enqueuing we can also send one stream of audio to the player and let Music Assistant stitch the songs together (with gapless or crossfade). This mode is used by default for AirPlay, Snapcast and any mediaplayers you import from Home Assistant, and flow mode will also be used by DLNA and Cast if crossfade gets enabled. The downside of this approach is that most players lose metadata display (on the speaker itself). Some DLNA players however support \"icy metadata\" which is what we send to inform what is playing. </p> <p>NOTE on player support: Always prefer a native Player provider within Music Assistant over a generic imported player from Home Assistant! The media players within Home Assistant are designed with automation of the player/music in mind, not to provide an optimal streaming experience itself. Native player providers in Music Assistant have been tweaked optimally to give the best (audio) quality and experience as well as supporting imported features such as grouping and enqueuing.</p>"},{"location":"faq/tech-info/#player-perfect-sync","title":"Player Perfect Sync","text":"<p>Audio sync between speakers is only possible if there is accurate knowledge of the exact (millisecond-precise) timestamp a player played each audio frame. In practice there are 2 common strategies used to sync audio:</p> <p>1) Sending timestamped frames to each player - there is one master clock and audio frames are sent to each receiving device in a sync group including the timestamp. So each player will have knowledge when it should play each frame and it can drop or inject frames to keep in sync. This strategy is often used in the proprietary protocols such as Google Cast, Sonos, Roon RAAT, BluOS and even Apple AirPlay (RAOP). This is by far the best (most precise) sync method because each player is responsible for sending the correct audio frames to the DAC (or digital transport).</p> <p>2) Server-side corrected sync. Each player is sent the audio stream from the centralized source and then the server keeps track of each player's latency and corrects it by pausing/forwarding, playing faster/slower or injecting frames. This is easier to implement because the only thing needed client-side is accurate progress reporting of the client (how many milliseconds it played) and the server contains all the centralized logic to keep the sync. This is used by, for example, Squeezelite and Snapcast.</p> <p>How well the time synchronisation works depends on multiple factors but often you will find that strategy 1 is superior to strategy 2 and/or strategy 2 needs tweaking to get it right. For instance on Snapcast you may hear skipping (small disturbances to the sound while its adjusting) and Squeezelite works less optimally with WiFi based devices due to changing player latency.</p> <p>RECOMMENDATION: To have the best synced audio experiences of players, try to stick with one ecosystem and, if possible, choose one of the options that implement strategy 1 (proprietary protocol). </p> <p>AirPlay is favoured because it a very good sync protocol that originally was proprietary but has been reverse engineered. You can now have AirPlay targets in both commercially available audio gear (even high end equipment) and DIY devices. It outperforms all the strategy 2 stream protocols by a wide margin. The same applies to a $35 chromecast audio puck with the google cast protocol. It works really well out of the box.</p>"},{"location":"faq/troubleshooting/","title":"Troubleshooting","text":""},{"location":"faq/troubleshooting/#first-things-to-try-and-how-to-report-issues","title":"First things to try and how to report issues","text":"<p>Look in the logs and try and resolve any errors you see there particularly those related to tagging. Connection errors are symptomatic of networking problems (including Adguard or pi-hole blocking)or container misconfiguration.</p> <p>Probably the most common issue is people trying to run MA with complicated network setups. Running behind VPNs, across subnets or VLANs, behind firewalls, local SSL, using reverse proxies or inside containers is not supported (it might work but we can\u2019t troubleshoot for you as MA is run by a small team who don't have the resources to help with non-MA issues). Search Discord for these problems as users have regularly reported these issues and found that it is their setup that was causing the fault; their solution might help you.</p> <p>Increasingly, we are seeing reports from users which are caused by their use of tools such as AdGuard, Pi-hole, pfSense etc. If your problem relates to being unable to stream or if there are errors in the logs related to unreachable addresses or timeouts then disable all of these tools before seeking help. Just applying a rule is insufficient, the problem must be present with these tools completely disabled.  </p> <p>For clarity, running installation options other than HAOS or simple docker and/or more complex network setups is at your own risk and we do not have the capacity to provide direct support (e.g Kubernetes is not supported).</p> <p>There are settings available in MA SETTINGS&gt;&gt;CORE&gt;&gt;STREAMSERVER&gt;&gt;CONFIGURE&gt;&gt;ADVANCED that might help you if you have non-standard setups. If you are running MA in your own docker container then make sure you have the correct PUBLISHED IP ADDRESS and BIND TO IP/INTERFACE set. Ensure containers are in HOST networking mode and note the extra privileges in the example docker command.</p> <p>Most players are discovered using mDNS (broadcast) so if your players do not get discovered it means that your network is blocking that traffic (e.g. IGMP or multicast snooping or filtering). You will have to check your settings (e.g. WiFi setup) if multicast is being blocked. Business solutions tend to block multicast traffic as much as possible as it hurts performance when there are many clients. In a home setup is it mandatory to have because all home gear relies on multicast.</p> <p>Make sure the HA internal url is set correctly. HA SETTINGS&gt;&gt;SYSTEM&gt;&gt;NETWORK&gt;&gt;Home Assistant URL&gt;&gt;Local network (set to automatic or use your internal HA IP). If it is automatic you can try changing it to http://your.internal.ip:8123/</p> <p>MA streams at high quality which may max out poor network connections. If possible use wired connections for MA players. Input codec is not always the same as the output codec (which by default is usually FLAC) so playing a low qualiy MP3 will not change the apparent performance. If you experience stuttering or other interrupted playback issues which are not apparent on wired players or those close to your access points then poor WiFi is likely to blame. You will need to improve your WiFi coverage. Players have an option to use a lossy codec which will lower the bandwidth requirements, this is available in the advanced settings for the player.</p> <p>Check the physical device settings. There have been numerous reports where the issue was actually a setting external to MA such as receivers set to repeat tracks or ESP devices with incorrect arguments passed on install.</p> <p>Ensure local files are tagged properly.</p> <p>If it is a playback issue then turn on QUEUE FLOW MODE in the settings for the specific player (where that is available).</p> <p>If it is a frontend issue or related to logging in to a provider which requires redirection to another website then try a different browser. If you are trying on a mobile device then try on a laptop or PC. Firefox and Safari are known to have deficiencies.</p> <p>Review the applicable player or music provider documentation to see if there are known issues or specific troubleshooting steps or fixes. </p> <p>For voice problems refer to Voice Troubleshooting. If you are not using HOME ASSISTANT as your Conversation Agent then you must seek assistance in the HA forums first. If they direct you back to this project then make it clear in your report that you are using a LLM as the Conversation Agent and include the reasons why the HA support network wasn't able to help.</p> <p>Try power cycling the physical player(s) if they won't connect or if there is no sound.</p> <p>Check the GitHub Issues and Discord to see if it is a known problem. If not try restarting MA, try restarting HA, and try a full HOST REBOOT (in that order). If it is an integration problem then trying removing it via the HA settings then restart HA then reinstall.</p> <p>Before you raise an issue read this first. Report issues using the template with as much detail as possible. Often posts aren\u2019t clear about exactly what is typed where, how something is configured or what series of menus are selected. Screenshots can be helpful. </p> <p>DOWNLOAD and ATTACH complete logs from MA SETTINGS&gt;&gt;CORE. Enabling debug logging is ok if the default level is providing no useful information. It is not recommended to run debug logging at a global level for daily use as it has a resource overhead; only do so in the case of problems. Do NOT use verbose logging level on a global level because it makes the logs practically unreadable. If really needed, but only by dev request, verbose logging may be enabled on a PER provider basis.</p> <p>You can also look in the Browser console when you have front end issues which in Chrome browser is --&gt; F12 for developer tools --&gt; console. </p> <p>The following is required in ALL reports as the MA team is small and you need to narrow down the problem before raising an issue:</p> <ul> <li>What music provider is in use when the problem is observed? What other music providers have you tried (if you have no others then make that clear - you can always try radio stations)</li> <li>What player provider is in use when the problem is observed? What other player providers have you tried (if you have no others then make that clear - you can always use SnapCast)</li> <li>Are the players grouped?</li> <li>How is playback being instigated (e.g. automation or via the UI)</li> <li>If you aren't using HAOS then exactly how you have installed MA</li> <li>What is working (e.g. player works with music provider X but not Y)</li> <li>What you have tried from this page that hasn't helped (This is very important!)</li> </ul> <p>Note</p> <p>You can retrieve the full MA logs by going to the MA settings and clicking on CORE</p>"},{"location":"faq/troubleshooting/#a-provider-isnt-working","title":"A provider isn't working","text":"<p>Navigate to MA settings and inspect the provider entry. If there is a red circle with an exclamation mark next to it then hover over that icon to see the error message.</p> <p></p>"},{"location":"faq/troubleshooting/#why-arent-tracksalbums-matching-between-providers","title":"Why aren't tracks/albums matching between providers","text":"<p>Matching items between streaming providers is challenging as they do not all provide the same or unique metadata to definitively identify a match. If you think there is an obvious match (eg. same artist and track and album) then please submit an issue report. For more information about how MA uses metadata in various ways see here https://github.com/music-assistant/support/discussions/543</p>"},{"location":"faq/troubleshooting/#my-media-player-is-not-available-or-not-playing","title":"My media player is not available or not playing","text":"<p>First check if the player has been discovered but just isn't appearing in the Player List. Do this by navigating to MA SETTINGS &gt;&gt; PLAYERS. If the player is there then look for an hourglass \u29d6 beside the entry which indicates that, for some reason, the player is unavailable. Also review the GENERIC SETTINGS for the individual player to determine under what circumstances the player will be hidden in the UI.</p> <p>If the player is not shown in the list of players in the MA SETTINGS then review the list of player providers. If your device doesn't support one of the listed protocols then it won't currently work. Review the GitHub Discussions to see if others have requested support and join in the conversation.</p> <p>If your device does support one of the supported protocols then review the documentation for that player provider for known issues and troubleshooting tips.</p> <p>If your device still doesn't work and you think it should then review the full logs for discovery information and errors. Review the first things to try at the top of this page as usually if you get this far without identifying why the player isnt working it will be a networking or non-standard installation issue which, generally, you will need to resolve yourself. Search the Github Issues, Discussions and Discord) as likely someone has asked your question before.</p>"},{"location":"faq/troubleshooting/#all-my-media-is-missing","title":"All my media is missing","text":"<p>Ensure the favourites filter is OFF. At the top of each view is a \u2764\ufe0f. Ensure it is hollow.</p> <p>If you are trying to view playlists through the HA media view then you should note that only favourited playlists will show up and additionally you need to have a MA player selected to see the MA Library. HA's media browser doesn't have any filter or sorting options like MA's frontend has.</p>"},{"location":"faq/troubleshooting/#i-dont-see-any-tracks-or-albums-for-an-artist-on-a-streaming-provider","title":"I don't see any tracks or albums for an Artist on a streaming provider","text":"<p>See the Usage and Music Provider notes</p>"},{"location":"faq/troubleshooting/#my-local-album-art-isnt-being-picked-up","title":"My local album art isn\u2019t being picked up","text":"<p>Art embedded in music tracks will always be picked up but folder.jpg images will only be imported if the folder name exactly matches the album (except for any characters that are prohibited in folder names. E.g. / )</p>"},{"location":"faq/troubleshooting/#there-isnt-any-metadata-for-my-music","title":"There isn't any metadata for my music","text":"<p>For local files, you can either fully tag your music (this is preferred and it is recommended to use Picard) or have an artist folder with the artist.nfo in there (just like the images) and that will be preferred. Online metadata providers are only queried when there is no local data. https://kodi.wiki/view/NFO_files</p>"},{"location":"faq/troubleshooting/#some-of-the-playlists-are-missing","title":"Some of the playlists are missing","text":"<p>For certain providers (Spotify is a known example) the authentication method used may impact visibility of playlists of certain type. For a Spotify provider, see details here</p>"},{"location":"faq/troubleshooting/#i-have-updated-but-ma-looks-like-the-old-version-or-isnt-working","title":"I have updated but MA looks like the old version or isn\u2019t working","text":"<p>Possibly your browser is using a cached version of the front end. Try forcing a refresh Chrome, Firefox, or Edge for Windows: Press Ctrl+F5 (If that doesn\u2019t work, try Shift+F5 or Ctrl+Shift+R).</p> <p>if the above doesn\u2019t work look here for some more options</p> <p>For the iOS app see here</p>"},{"location":"faq/troubleshooting/#the-second-zone-of-my-amplifier-is-not-seen-by-ma-or-ma-wont-turn-on-my-amplifier","title":"The second zone of my amplifier is not seen by MA or MA won't turn on my amplifier","text":"<p>MA is an INPUT to your amplifier. So you need to power on your amplifier and then select the INPUT that MA is streaming to (e.g. AirPlay, DLNA, Chromecast). For this reason MA does not see the amplifier zones it only sees the compatible inputs of the amplifier. </p> <p>Some amplifiers may auto turn on when a signal is detected so check the amplifier options. If this functionality is not available then you will need to power on the amplifier via another means which could be by assigning a HA entity to the player control. </p>"},{"location":"faq/troubleshooting/#my-local-music-isnt-being-imported-or-im-seeing-missing-id3-tag-warnings-in-the-logs","title":"My local music isn\u2019t being imported or I\u2019m seeing missing ID3 tag warnings in the logs","text":"<p>This is likely a tagging problem. See here</p>"},{"location":"faq/troubleshooting/#ma-is-interfering-with-my-spotify-connect-or-other-streaming-app","title":"MA is interfering with my Spotify Connect or Other Streaming App","text":"<p>If the MA player is \"powered on\" from the MA UI then MA understands that it is allowed to take control of the player. This may then happen even though you have started playback via another app but have not started playback via MA. To avoid this situation \"power off\" the MA player.</p>"},{"location":"faq/troubleshooting/#ma-is-failing-to-start","title":"MA is failing to start","text":"<p>If the following error (or similar) is seen in the log:   </p><pre><code>File \"/app/venv/lib/python3.12/site-packages/zeroconf/_utils/net.py\", line 293, in add_multicast_member\n    listen_socket.setsockopt(socket.IPPROTO_IP, socket.IP_ADD_MEMBERSHIP, _value)\nOSError: [Errno 105] No buffer space available\n</code></pre>   this is likely to be due to hitting the multicast group limit on the host system. See https://unix.stackexchange.com/questions/23832/is-there-a-way-to-increase-the-20-multicast-group-limit-per-socket for more info <p>If the above is not the issue then start MA in safe mode:</p> <ul> <li>With the addon select the toggle in the configration</li> <li>With Docker run the container with the environmental variable MASS_SAFE_MODE set to a boolean true value, e.g. \"1\" or \"true\"</li> </ul> <p>If MA now starts, you can start any of the providers by clicking \"reload\" in the settings (click the 3 dots). If one particular provider causes MA to crash then open an issue with the details.</p>"},{"location":"help/","title":"I want to help Preview image","text":""},{"location":"help/#i-want-to-help","title":"I want to help","text":"<p>With a large project like this, there is always plenty to do. Not only with actual writing of code but also in documentation, providing support, testing etc. Of course you can help out greatly by subscribing to Nabu Casa but helping out can also be done in other ways:</p> <ul> <li>If you like to help with the development, e.g. implementing a new music provider or fix a player specific quirk, please reach out on Discord. There hasn't been time to write extended development docs but once you get the grasp of the structure it is relatively straight forward. The current documentation can be found here Music Assistant Developer. There are also Example Providers</li> <li>Provide or update a translation</li> <li>Help others out on discord or within the discussions part of Github</li> <li>Help out with writing documentation and HOWTO's</li> <li>Help OzGav out as a moderator on Discord and GitHub with the load of incoming reports, requests and questions</li> <li>Make sure to like this project by clicking the \u2b50 button and share it with others!</li> </ul>"},{"location":"help/#donations","title":"Donations","text":"<p>As explained above you can show your appreciation in all kinds of ways. If you wanted to support the project financially then you should support the Open Home Foundation (OHF) by subscribing to Nabu Casa. You can also support the OHF by purchasing Home Assistant Hardware or merch!</p> <p>If you appreciate a particular component then go to the component's page in these docs and find the responsible dev and you can see if they have a Buy Me A Coffee or similar link. There are also links to the main devs GitHub page on the Home Page.</p> <p>A really big thank you in advance from the whole team!</p> <p>I hope you like my little pet project I've been working on since 2019. I'm sure that together with the really great HA community we can grow this project into something fantastic. Thanks!</p> <p>Kind regards,</p> <p>Marcel</p>"},{"location":"help/lokalise/","title":"Translations","text":"<p>If you're following the frontend repo, you may have seen that we are now using Lokalise as a central translation management portal.</p> <p></p> <p>At the time of writing the translation status for the various languages in MA is as follows</p> <p></p> <p>Languages will get added to the frontend when the translation percentage exceeds 75%.</p> <p>We would love to support more languages but we need your help to do so.</p>"},{"location":"help/lokalise/#how-can-i-contribute","title":"How can I contribute?","text":"<ul> <li> <p>Create an issue in the issue tracker stating the Language that want you to contribute.</p> </li> <li> <p>We will then add this language to the project in Lokalise, and resolve the issue in GitHub</p> </li> <li> <p>Once the issue is resolved, you'll be able to use this sign-up link to join the project as a translator.</p> </li> </ul> <p>Please only select the language that you intend to contribute to when requesting to join the team on Lokalise.</p> <p></p> <p>Thanks for taking the time to read this, we're looking forward to your contributions.</p>"},{"location":"help/lokalise/#onboarding","title":"Onboarding","text":"<p>The Lokalise team have prepared extensive documentation to get started and comfortable with the platform here</p> <p>If you prefer to jump straight into a video tutorial, you can watch that below. </p>"},{"location":"integration/","title":"Home Assistant Integration Preview image","text":""},{"location":"integration/#home-assistant-integration","title":"Home Assistant Integration","text":"<p>The Music Assistant integration for Home Assistant provides a connection from MA to HA. This means that MA players are visible in HA and can be controlled via the HA UI or via automations or scripts.</p> <ul> <li> <p>Announcements from HA in the form of Text to Speech or audio files are fully supported.</p> </li> <li> <p>With some additional setup voice control of MA via HA is also possible</p> </li> <li> <p>The integration can connect to the MA server which is running either as an HA addon or as a docker container on the same or another host system</p> </li> <li> <p>The integration is an official part of Home Assistant, there is no need to install custom components</p> </li> </ul> <p>See also the documentation from Home Assistant about the Music Assistant integration</p> <p>Note that there is also a Home Assistant provider within MA which functions the other way around. It enbles Home Assistant functionality (and players) in Music Assistant!</p>"},{"location":"integration/announcements/","title":"Announcements","text":""},{"location":"integration/announcements/#announcements","title":"Announcements","text":"<p>Announcements are either Text-to-Speech or audio files that are sent (from Home Assistant) to the MA players via the <code>tts.xxxxxx</code> or <code>music_assistant.play_announcement</code> HA actions.</p>"},{"location":"integration/announcements/#overview","title":"Overview","text":"<p>If music is being played by MA then this will be temporarily paused and restored after the announcement.</p> <p>Players will be powered on before the announcement and then off again if it was not powered/active before the announcement.</p> <p>Volume can be adjusted while playing the announcement.</p> <p>If a player type has native support for announcements (e.g. Sonos, Snapcast) then that will be used in preference to the MA functionality providing an even smoother experience.</p> <p>The functionality works with all players that are supported by Music Assistant.</p> <p>Each player has settings which allow for adjustment of certain aspects of the announcement playback. Groups only have a setting for the pre-announcement sound.</p> <p></p>"},{"location":"integration/announcements/#native-support","title":"Native Support","text":"<p>If an announcement is sent to a single player that supports native announcements, the announcement will be handled by the player itself.</p> <p>Native announcement support usually means that the player can \"overlay\" the announcement on top of any music that is playing. It will \"duck\" the volume of the music (or silence it completely), play the announcement with a volume boost and then revert the music volume. Music keeps playing and the entire announcement will be handled by the player itself.</p> <p>Currently the only (known) player types that support native announcements are Sonos S2 speakers and Snapcast. Hopefully more player types will follow.</p>"},{"location":"integration/announcements/#ma-player-support","title":"MA Player Support","text":"<p>If a player does not support native announcements, MA will take care of it by stopping any playing music, adjust the volume (as configured), play the announcement, and then restore the previous state.</p> <p>Note</p> <p>The MA announcement feature will ONLY work reliably if the player reports the state (e.g. playing, paused, idle) and the progress report (elapsed time) correctly. If any of those are not updated correctly then announcements will work poorly.</p> <p>ESPHome can be unreliable with state updates so issues may occur with this player type. The same applies to some HA media players. Future updates of those platforms should improve performance.</p> <p>If a player does not resume after playing an announcement, or it takes a very long time, check the HTTP profile settings. <code>Fixed content length</code> may need to be used. For example, ESPHome devices may have this issue.</p>"},{"location":"integration/announcements/#group-behaviour","title":"Group Behaviour","text":"<p>If an announcement is sent to a native Google Cast Group, Sync Group or a Universal Group, the announcement will always be played to ALL child players. The preference to (not) use a pre-announcement sound is defined on the group player in this case. The volume setting of the announcement is defined per player. If one of the child players was already playing, playback will be interrupted and NOT resumed. Bear that in mind with automations and target announcements to the individual players or just restart individual player playback if/when needed. Google Cast groups should play the announcement in sync.</p> <p>If an announcement is sent to a group of players that are manually synced, the announcement will be played to all childplayers (in sync).</p> <p>If an announcement is sent to a Sync Group (temporary or permananent) of which ALL child players support native announcements, the native functionality will be used to playback the announcement and MA will ensure the announcement is started at (more or less) the same time so all players should play the announcement in sync.</p> <p>If an announcement is sent to a player that is currently synced to another player (and does not support native announcements), it will be temporarily unsynced, the announcement played and then added back to the group.</p> <p>In all cases the playback should resume after the announcement.</p> <p>Note</p> <p>If the announcement is sent to one player of a group, the playback needs to resume afterwards and for AirPlay and Squeezelite that will be noticeable</p> <p>Note</p> <p>If the announcement is sent to one player of a group, and that player is the sync leader of a permanent Sync Group, then this will be treated the same as sending the request to the whole Sync Group. All players will play the announcement and the whole group will resume afterwards.</p> <p>Any case not mentioned above is not supported</p>"},{"location":"integration/installation/","title":"Installation","text":""},{"location":"integration/installation/#installation","title":"Installation","text":"<p>Note</p> <p>Ensure the MA server is up and running properly with music and player providers added before trying to link it to HA via the integration</p>"},{"location":"integration/installation/#installation-of-the-ha-integration","title":"Installation of the HA Integration","text":"<p>The Integration to connect Music Assistant to Home Assistant is available as an official component in HA core.</p> <ul> <li>The MA server will normally be discovered automatically by HA and is installed by clicking on CONFIGURE.</li> <li>If for some reason you need to add the integration manually then go to HA SETTINGS &gt;&gt; DEVICES &amp; SERVICES &gt;&gt; INTEGRATIONS and click the big <code>+ ADD INTEGRATION</code> button. Search for Music Assistant and click to add it. You will need to add the server IP and port (usually 8095). Search for the relevant line in the server logs. For example, <code>Starting server on 172.30.32.1:8095</code>.</li> <li>Click SUBMIT and the Music Assistant integration is ready for use.</li> </ul> <p>Note</p> <p>The HA integration will create new media_player entities for those player types which are supported natively by MA. To see the names of those players go to <code>HA SETTINGS &gt;&gt;  DEVICES &amp; SERVICES &gt;&gt; INTEGRATIONS &gt;&gt; MUSIC ASSISTANT</code> and view the entities. It is these players that need to be targeted in automations and scripts</p>"},{"location":"integration/installation/#actions","title":"Actions","text":"<p>Music Assistant provides (next to the standard media player actions), several custom actions to allow control over the players and media. See the Home Assistant documentation for information.</p> <p>FAQ / Extra Info</p> <ul> <li>music_assistant.play_media</li> <li>music_assistant.play_annnouncement</li> <li>music_assistant.transfer_queue</li> <li>music_assistant.search</li> <li>music_assistant.get_library</li> <li>music_assistant.get_queue</li> </ul>"},{"location":"integration/voice/","title":"Voice Control","text":""},{"location":"integration/voice/#voice-control","title":"Voice Control","text":"<p>Home Assistant has very limited (intent) support for music/media control and there is no support for initiating playback of music by voice. While this is on the horizon to be added, there is still a lot to investigate about how to create a universal way to provide that support natively which works with all media player integrations. </p> <p>Currently, there is no built-in support in Home Assistant or the Music Assistant integration for initiating music playback by voice. But don't give up hope because in the interim a (community driven) repository has been created with all of the building blocks needed to add that support. The repository can be found at https://github.com/music-assistant/voice-support</p> <p>Note</p> <p>Queue behaviour when adding items by Assist will follow the settings in MA SETTINGS&gt;&gt;CORE&gt;&gt;PLAYER QUEUES CONTROLLER.</p>"},{"location":"integration/voice/#play-media-action","title":"Play Media Action","text":"<p>The Music Assistant Integration allows the use of custom intents for initiating playback that are kept completely local. Blueprints have been developed to make it easy to get going. If new to Blueprints then review the HA documentation Using Automation Blueprints </p> <p>Instructions are in the MA Voice Support Repository. There are options for completely local or LLM based request recognition.</p>"},{"location":"integration/voice/#other-media-player-actions","title":"Other Media Player Actions","text":"<p>The core HA voice intents support NEXT TRACK, PREVIOUS TRACK, PAUSE, UNPAUSE and VOLUME to a specific player or to an area. HA does not intend to add any more media player actions at this time so you will need to use custom sentences to cover any other of your requirements. See this discussion for how.</p>"},{"location":"mobile/","title":"Mobile Device General Information","text":""},{"location":"mobile/#mobile-devices","title":"Mobile Devices","text":""},{"location":"mobile/#notification-screen-support","title":"Notification Screen Support","text":"<p>When the Music Assistant UI is accessed via a browser which supports the mediasession API then a media player widget will be seen in the device's notification or lock screen. Support is available for the pause, play, next track, and previous track functions.</p> <p>Whilst this functionality has been tested to work when using the iOS HA App to access the Music Assistant UI the same can not be said for the Android HA App. If desiring this functionality on an Android device then use a supported browser.</p> <p>Android users should also note that they may observe a label \"This Phone\" when observing playback on a remote device. This is a limitation of the Android OS.</p> <p>If the media player widget is not seen then a different, supported browser will need to be used.</p>"},{"location":"music-providers/","title":"Music Providers","text":""},{"location":"music-providers/#music-providers","title":"Music Providers","text":"<p>For specific music provider information refer to the relevant section.</p> <p>General Notes:</p> <ul> <li>You have to add providers in order to access your music even if the media is visible to HA.</li> <li>If you remove a provider a cleanup of the database will be done but it takes a little time to complete. If you still see entries from a deleted provider after some time, then try a MA restart to retrigger the cleanup process.</li> <li>Music providers are added by navigating to MA Settings and then clicking on ADD MUSIC PROVIDER at the top of the page</li> </ul> <p>Note</p> <p>If a problem occurs the automatic linking process may need to be initiated again. If what appears to be identical albums or tracks are seen then navigate to the album or track and using the \u22ee menu in the banner at the top of the view select \"Refresh Item\". This will trigger the linking process and should result in the same albums and tracks being collapsed together. Submit an issue report if this is required so that it can be investigated.</p> <p></p>"},{"location":"music-providers/#settings","title":"Settings","text":"<p>All Music Providers have settings which can be configured. The settings page will look similar to the following. The text <code>Check out the documentation</code> is a hyperlink to the relevant page in this documentation. Specific help for a setting or configurable field is often available and is accessed by selecting this icon . All providers can be given a custom name and disabled if necessary. The log level can be adjusted for all providers and this is found in the advanced settings. (Do not select Verbose unless asked for by a dev as it can have an adverse performance impact). See the provider pages for provider specific settings.</p> <p></p>"},{"location":"music-providers/#summary","title":"Summary","text":"<p>The table below provides an at-a-glance summary of all of the music providers. Green ticks indicate a desirable quality or function is available. </p> <p>Stream quality is indicated as either Hi-Res, CD quality or lossy with the codec and bitrate where available.</p> <p>The most user friendly login method is a password, followed by OAuth and then the cookie method is least desirable.</p> <p></p>"},{"location":"music-providers/apple-music/","title":"Apple Music","text":""},{"location":"music-providers/apple-music/#apple-music-provider","title":"Apple Music Provider","text":"<p>Music Assistant has support for Apple Music! Contributed and maintained by MarvinSchenkel</p> <p>Note</p> <ul> <li>A paid subscription is required to add this Music Provider. </li> <li>Audio playback is not officially supported by Apple, use at your own risk</li> </ul>"},{"location":"music-providers/apple-music/#features","title":"Features","text":"Subscription FREE No Self-Hosted Local Media No Media Types Supported Artists, Albums, Tracks, Playlists Recommendations Supported No Lyrics Supported No Radio Mode Yes Maximum Stream Quality Lossy AAC (256kbps) Login Method Cookie"},{"location":"music-providers/apple-music/#other","title":"Other","text":"<ul> <li>Searching the Apple Music catalogue</li> </ul>"},{"location":"music-providers/apple-music/#configuration","title":"Configuration","text":"<p>Authentication with Apple Music happens through a Music User Token. Unfortunately, Apple does not officially support 'Login with Apple' for Apple Music, so you will need to obtain your own Music User Token. Instructions were written for Chrome:</p> <ol> <li>Navigate to https://music.apple.com/</li> <li>Go to View &gt; Developer &gt; Developer Tools. A new side window will open.</li> <li>Click the 'Application' tab. You might need to expand your window or click the <code>&gt;&gt;</code> button   </li> <li>Under Storage &gt; Cookies, click \"https://music.apple.com\" and find the entry called \"media-user-token\"</li> <li>Click it and copy the cookie value and use this in Music Assistant as the 'Music user token'   </li> <li>Currently in order for the callback to work MA must be accessed via the exposed webserver port when setting up this provider. If MA has been installed as an add-on then the port must be manually exposed as described in the core settings. Thus the URL when setting this provider up must be <code>http://&lt;YOUR_MA_IP&gt;:8095</code>. Once successfully configured the webserver port can be disabled again if desired.</li> </ol> <p>Note</p> <p>Take note of the \"Expires / Max-Age\" column. The token will expire on that date and Apple Music within Music Assistant will stop working. The above process must then be repeated to obtain a fresh token.</p>"},{"location":"music-providers/apple-music/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Due to Apple's proprietary encryption (FairPlay), Lossless and Dolby Atmos versions of songs are not supported</li> <li>MA can only play an uploaded track if Apple has linked it to an online version in the Apple Music catalog. If that link is not found, MA will not do the import</li> </ul>"},{"location":"music-providers/apple-music/#not-yet-supported","title":"Not yet supported","text":"<ul> <li>Library interaction, such as adding and removing items to your Apple Music library from within Music Assistant</li> </ul>"},{"location":"music-providers/audible/","title":"Audible","text":""},{"location":"music-providers/audible/#audible-provider","title":"Audible Provider","text":"<p>Music Assistant has support for streaming from Audible. Contributed and maintained by ztripez</p> <p>Note</p> <p>A paid subscription is required for this provider</p>"},{"location":"music-providers/audible/#features","title":"Features","text":"Subscription FREE No Self-Hosted Local Media No Media Types Supported Podcasts Recommendations Supported No Lyrics Supported No Radio Mode No Maximum Stream Quality Lossy, AAC Variable Bitrate Login Method OAuth"},{"location":"music-providers/audible/#other","title":"Other","text":"<ul> <li>The Audible library can be listed</li> <li>Metadata for audiobooks will be populated</li> <li>Playback can be resumed from the last position reported by Audible</li> <li>Chapter navigation</li> </ul>"},{"location":"music-providers/audible/#configuration","title":"Configuration","text":"<p>To set up the Audible provider, follow these steps:</p> <ol> <li>Select the appropriate marketplace for your Audible account from the available options.</li> <li>Click the \"Authenticate with Audible\" button to start the authentication process. This will open a new window redirecting you to Audible for authentication. Make sure to disable any popup blockers.</li> <li>After successful login, you will see a \"page not found\" message. This is expected. Copy the URL from the address bar and paste it into the \"Post Login Url\" textbox.</li> <li>Click the \"Verify Audible URL\" button to check the URL and register the provider.</li> </ol> <p>Note: If you need to re-authenticate or change the marketplace, you will have to go through the authentication process again.</p>"},{"location":"music-providers/audible/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Last playback position is not currently reported back to Audible</li> <li>Switching marketplaces requires re-authentication</li> <li>The provider will be registered as a device on Audible. If you remove the provider, it will deregister the device</li> <li>While there haven't been any issues with the number of registered devices during development, it's worth noting that Audible has various content license requirements. If a user has material with a device license restriction then having many registered devices might cause issues</li> </ul>"},{"location":"music-providers/audible/#not-yet-supported","title":"Not Yet Supported","text":"<ul> <li>Browsing capabilities by author, narrator, series, etc</li> <li>Search functionality</li> <li>Podcasts, attached files, and other services not directly related to audiobooks</li> </ul>"},{"location":"music-providers/audiobookshelf/","title":"Audiobookshelf","text":""},{"location":"music-providers/audiobookshelf/#audiobookshelf-provider","title":"audiobookshelf Provider","text":"<p>Music Assistant has support for audiobookshelf. Contributed and maintained by Fabian Munkes</p>"},{"location":"music-providers/audiobookshelf/#features","title":"Features","text":"Subscription FREE Yes Self-Hosted Local Media Yes Media Types Supported Audiobooks, Podcasts Recommendations Supported Yes Lyrics Supported No Radio Mode No Maximum Stream Quality 192kHz 24 bit Login Method Password or Token"},{"location":"music-providers/audiobookshelf/#other","title":"Other","text":"<ul> <li>Populates Audiobooks from all libraries accessible by the supplied user</li> <li>Populates Podcasts from all libraries accessible by the supplied user</li> <li>Browse Feature has the following structure:</li> </ul> <pre><code>        Library_Name_A (Audiobooks)\n            Authors\n                Author_1\n                    Series_1\n                    Audiobook_1\n                    Audiobook_2\n                Author_2\n                    Audiobook_3\n            Narrators\n                Narrator_1\n                    Audiobook_1\n                    Audiobook_2\n            Series\n                Series_1\n                    Audiobook_1\n                    Audiobook_2\n                Series_2\n                    Audiobook_3\n                    Audiobook_4\n            Collections\n                Collection_1\n                    Audiobook_1\n                    Audiobook_2\n                Collection_2\n                    Audiobook_3\n                    Audiobook_4\n            Audiobooks\n                Audiobook_1\n                Audiobook_2\n        Library_Name_B (Podcasts)\n            Podcast_1\n            Podcast_2\n</code></pre> <ul> <li>The Audiobook search function supports searching for Authors and Narrators</li> <li>Progress is synced both ways and obtained just ahead of playing</li> <li>Event driven updates of podcast/ audiobook metadata in known libraries:<ul> <li>A change is immediately reflected to the MA database if MA is running</li> <li>Newly added and just deleted items are immediately reflected as well</li> <li>BUT: if MA was down while changes in the ABS database occured, those will only be synced if a normal provider sync is triggered</li> </ul> </li> <li>Single and multi-file audiobooks are supported</li> <li>Supports recommendations on the Home View</li> </ul>"},{"location":"music-providers/audiobookshelf/#configuration","title":"Configuration","text":"<p>The following is needed to setup this provider:</p> <ul> <li>Server. A server URL (e.g. <code>https://abs.domain.tld/</code> or <code>http://192.168.1.4:13378/</code> for a local server) of an Audiobookshelf instance. </li> <li>Authentication without OIDC:<ul> <li>Username. The username of an Audiobookshelf user</li> <li>Password. The password of this user</li> </ul> </li> </ul> <p>Note</p> <p>The user must be of type user, admin or root. Guest users are neither tested nor supported</p> <ul> <li>If OIDC is configured:<ul> <li>Pre version 2.26, Token instead of user/password. Add the token in the specified field. This token can be obtained by an admin user for any user within the ABS settings -&gt; users</li> <li>From version 2.26 audiobookshelf uses the JWT token system internally. It is possible to create permanent API keys for an external application. Please follow the audiobookshelf docs at https://www.audiobookshelf.org/guides/api-keys/ to create such an API key</li> </ul> </li> </ul> <p>Note</p> <p>Should you insert an old legacy token, your provider will not work anymore once these are removed from ABS.</p>"},{"location":"music-providers/audiobookshelf/#advanced-settings","title":"Advanced Settings","text":"<ul> <li>Verify SSL. Enable to verify the certificate of SSL/TLS connections. This is on by default</li> <li>Hide empty podcasts. Podcasts with no episodes yet downloaded may be skipped when syncing</li> </ul>"},{"location":"music-providers/audiobookshelf/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Multi-file Audiobooks: The UI will show PCM as the source file format (as that is what is used internally) instead of the actual file format of the audiobook</li> <li>Tested currently against ABS &gt;= 2.19.0</li> <li>In the first instance of any problems ensure the server is running the latest version of the audiobookshelf software</li> </ul>"},{"location":"music-providers/audiobookshelf/#not-yet-supported","title":"Not Yet Supported","text":"<ul> <li>Playlists</li> <li>Edit provider feature</li> <li>Creation/deletion of a new library (i.e. not media items in a known library) is not reflected in an event driven way. Instead, use a normal sync</li> </ul>"},{"location":"music-providers/builtin/","title":"Builtin","text":""},{"location":"music-providers/builtin/#builtin-provider","title":"Builtin Provider","text":"<p>The Builtin provider supports manually adding track and radio station URLs to the database and it also generates various Playlists.</p>"},{"location":"music-providers/builtin/#features","title":"Features","text":"<ul> <li>You can add tracks accessible via URL or any online station. You can also add your locally created stations using, for example, Icecast.</li> </ul>"},{"location":"music-providers/builtin/#settings","title":"Settings","text":"<p>For each of the builtin playlists there is a toggle to enable or disable them. </p>"},{"location":"music-providers/builtin/#usage","title":"Usage","text":"<ol> <li>In the main menu select 'Tracks' or 'Radio'</li> <li> <p>Then click on the icon in the top right corner</p> <p></p> </li> <li> <p>Add the full URL including http:// or https:// and optionally a custom name and image URL.</p> </li> </ol> <p>After completing step 3 the track or station will become available in the respective view.</p>"},{"location":"music-providers/deezer/","title":"Deezer","text":""},{"location":"music-providers/deezer/#deezer-provider","title":"Deezer Provider","text":"<p>Music Assistant has support for Deezer. Contributed and maintained by arctixdev and micha91 </p> <p>Note</p> <ul> <li>Because of Deezer's TOS only HiFi/Premium/Family accounts are supported</li> <li>It is normal that syncing all the items from Deezer takes some time</li> </ul>"},{"location":"music-providers/deezer/#features","title":"Features","text":"Subscription FREE No Self-Hosted Local Media No Media Types Supported Artists, Albums, Tracks, Playlists Recommendations Supported No Lyrics Supported No Radio Mode Yes Maximum Stream Quality Lossless FLAC (44.1 kHz / 16 bit) Login Method OAuth + Cookie"},{"location":"music-providers/deezer/#other","title":"Other","text":"<ul> <li>Searching the Deezer catalogue</li> <li>Items in your Deezer Favourites will be imported into the MA Library and automatically marked as a \"Favorite\" in MA</li> <li>If you add an item from Deezer to the MA library then nothing will happen in Deezer unless you also mark it as a favourite (at which time the item will be added to the Deezer favourites)</li> <li>Artist, Album, Track and Playlist metadata is fully supported</li> <li>Playlist creation is possible as well as adding and removing tracks from existing playlists</li> <li>Logging of played tracks in Deezer</li> </ul>"},{"location":"music-providers/deezer/#configuration","title":"Configuration","text":"<p>Authentication with Deezer happens through an Access and ARL Token. Unfortunately, Deezer does not officially support third party logins, so you will need to obtain your own ARL Token. Instructions were written for Chrome:</p> <ol> <li>in the MA SETTINGS select ADD MUSIC PROVIDER and then DEEZER.</li> <li>Launch the authentication process by pressing the <code>Authenticate</code> button</li> <li>Login to Deezer on the popup window</li> <li>After logging in the MA settings page will have the ACCESS TOKEN automatically populated but the ARL TOKEN now needs to be manually obtained</li> <li>Navigate in another browser tab to https://deezer.com/</li> <li>Right click on the browser window and select INSPECT. A new window will open</li> <li>Click the 'Application' tab. You might need to expand your window or click the <code>&gt;&gt;</code> button</li> <li>Under Storage &gt; Cookies, click \"https://www.deezer.com\" and find the entry labelled \"arl\"   </li> <li>Copy the cookie value and use this in Music Assistant as the 'ARL TOKEN'</li> </ol> <p>If this does not work ensure that you:</p> <ul> <li>Are on the same network as Music Assistant</li> <li>Can access Music Assistant using its IP address</li> <li>Have a Hifi/Premium/Family account</li> <li>Are on the latest Music Assistant version</li> <li>Try different browsers</li> </ul>"},{"location":"music-providers/deezer/#not-yet-supported","title":"Not yet supported","text":"<ul> <li>Podcasts</li> <li>Fully featured recommendation/flow</li> </ul> <p>Big thanks to Deezer-python made by browniebroke. Without it, this would have taken alot longer to make.</p>"},{"location":"music-providers/filesystem/","title":"File System Provider","text":""},{"location":"music-providers/filesystem/#filesystem-provider","title":"Filesystem Provider","text":"<p>Music Assistant has full support for reading your own (local) music files on disk or a remote server and will catalog it into the library, allowing playback to all player providers supported by Music Assistant. </p> <p>When streaming providers are also availabe in MA linking will only occur when the same item is found in the \"Library\" of that streaming provider. However, additional tracks and albums will be seen in various views or via the global search which can then be added separately to the MA Library.</p>"},{"location":"music-providers/filesystem/#features","title":"Features","text":"Subscription FREE Yes Self-Hosted Local Media Yes Media Types Supported Artists, Albums, Tracks, Playlists, Audiobooks, Podcasts Recommendations Supported No Lyrics Supported Yes Radio Mode No Maximum Stream Quality Lossless FLAC 192 kHz, 24 bit Login Method Password or None"},{"location":"music-providers/filesystem/#other","title":"Other","text":"<ul> <li>Searching the catalogue</li> <li>Local music is automatically included in the MA Library</li> <li>Files are not favourited by default. All items can be seen if the \"favourite\" filter (the heart) is deselected. Items can then be favourited as desired</li> <li>If streaming providers are also connected, then the media will be automatically linked and completed with info from those streaming provider(s)</li> <li>On playback, when tracks are linked across providers (or within the same provider) the highest quality version is used automatically</li> <li>It is possible to add multiple filesystem providers</li> </ul>"},{"location":"music-providers/filesystem/#configuration","title":"Configuration","text":"<p>Separate providers must be added for Music, Audiobooks and Podcasts.</p> <p>Your files are on a disk/folder of the device running Music Assistant Server</p> <p>If your files are actually stored on the device running Music Assistant, for example the <code>/media</code> folder in Home Assistant OS, you should select the filesystem (local disk) option and enter the path to the files. </p> <p>Note</p> <p>For Home Assistant OS you can only access the <code>/media</code> folder. Docker users can mount their own folder paths. You can not mount a folder from Home Assistant into the <code>/media</code> path.</p> <p>Your files are on a remote share, such as a NAS or other (SMB/CIFS) server</p> <p>Music Assistant has support for SMB (also known as samba or CIFS) shares and DFS. Select the music provider \"Filesystem (remote share)\" and configure the (fqdn) hostname (or alternatively the IP address) to your server, the name of the share and optionally any subfolders.</p>"},{"location":"music-providers/filesystem/#settings","title":"Settings","text":"<p>In addition to the settings outlined above to configure the provider there are additional settings available for this provider:</p> <ul> <li>Action when a track is missing the Albumartist ID3 tag. In the first instance tag the files correctly. MA needs an album artist defined so that the item can be added correctly to the database. Instead of skipping tracks that do not have this information, this setting defines how the situation should be handled. By default, <code>Various Artists</code> will be used but the other options available are <code>Track Artist</code> and <code>Folder name (if possible)</code>.</li> <li>Ignore playlists with album tracks within album folders. Some users have a playlist per album. For large collections this results in an unusable Playlist View. To avoid this situation, this setting, which is enabled by default, will result in playlists which are more than one level below the root folder of the provider to be ignored</li> <li>Content type in media folder(s). This setting defines the content type of the provider and is necessary for Music, Audiobooks and Podcasts to be correctly identified</li> <li>Advanced - Mount options. This field allows the options of the mount command, which is used at the operating system level to provide access to the share, to be specified. The default options should work for the majority of users and thus do not need to be modified</li> </ul>"},{"location":"music-providers/filesystem/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Write access to the share is required in order to edit or create playlists which are stored locally. You can still save playlists into the MA built-in provider if only read access is granted</li> <li>If you are using the remote share connection, be aware that use of SMB1 (which is very old) is not recommended. If the connection keeps failing, look in your NAS settings to see if you can somehow disable SMB1</li> <li>Use the following naming convention for local artwork<ul> <li>Artist thumb: folder.jpg or artist.jpg (or png)</li> <li>Album thumb: folder.jpg or cover.jpg (or png)</li> <li>Fan Art (used as background in banners): fanart.jpg (or png)</li> <li>Logo (used on Artist view): logo.png</li> </ul> </li> <li>Artist thumb, Fanart and Logo should be in the folder with the artist name. Album thumbs should be in the folder with the album name or in the disc folders below that. More about artwork file types can be found here https://kodi.wiki/view/Artwork_types</li> <li>Embedded album thumbs will be extracted from audio files. However, you can improve performance and save disk space by providing a single local artwork file vs. embedding the same artwork in all files</li> </ul> <p>Local Artwork is Optimal</p> <p>Using embedded images on every track of the same album is suboptimal for both disk space and performance. Use a single folder.jpg in the album's folder instead</p> <ul> <li>Artwork which needs to be downloaded will be done very slowly in the background. You can force the download by selecting \"Update Metadata\" from the \u22ee menu in the banner at the top of a view</li> <li>Local tracks and albums will be linked to the same tracks or albums on any provider (local or streaming). Note that same is not simply same name. The tags are reviewed to ascertain whether it is indeed the exact same track. Without tag information MA will attempt to identify identical tracks based on the other information it has such as artist name, album, and track length. However, poor tag information may lead to poor matches</li> <li>A setting, enabled by default, allows the skipping of playlists which are more than one level below the root (normally this is the album folder). This is preferred as these playlists (normally all album tracks in the folder) serve no function in MA and clutter the Playlists view. Excessive numbers of playlists can have a negative impact on other parts of the MA experience</li> <li>Folders commencing with an underscore will be ignored</li> <li>Text files containing song lyrics are supported. These files must be named identically to the track filename and in the same folder but with a <code>.lrc</code> file extension. The lyrics will be loaded when playback commences</li> <li>To minimise the chance of problems, folders should follow the /artist/album structure and the folder names should match the artist and album names as tagged with any illegal characters removed (e.g. AC/DC should be in a folder ACDC)</li> <li>Files placed into a random structure will be imported but no other data will be able to retrieved from the folder names and other problems may occur</li> </ul>"},{"location":"music-providers/filesystem/#tagging-files","title":"Tagging Files","text":"<ul> <li>It is very important that all of your audio files contain proper ID3 tag information. The more comprehensive the tagging the better the results will be when using MA. For this reason it is strongly recommended that all files are tagged with MusicBrainz Picard. This will ensure consistency and completeness of the tags that MA needs to work best. Other programs such as Mp3Tag are often also based on the Musicbrainz catalog and can work as well provided they include ISRC and all MBID tags</li> <li>Tags must have mutiple items separated by a semicolon. In Picard this is an option in OPTIONS &gt;&gt; TAGS &gt;&gt; ID3. Also in that section ensure V2.3 is used to avoid problems</li> <li>MA requires the Album Artist tag to be set. If you do not have that tag set then what happens to those tracks when the provider is scanned depends on the <code>Action when a track is missing the Albumartist ID3 tag</code> setting for the local provider</li> <li>For multi-artist tracks it is important that the <code>ARTISTS</code> tag (as distinct from <code>ARTIST</code>) is set, which is semi-colon delimited list of the artists on the track. If this tag is not set MA will attempt to parse the artist names from the <code>ARTIST</code> tag but if unusual or non-English joining words or symbols are used then this process may fail </li> <li>Music Assistant puts you in control by fully trusting the ID3 tags you provide, only additional information is scraped from metadata providers</li> <li>Music Assistant has support for both embedded artwork and artwork stored in a common folder structure of Artist \\ Album and <code>.nfo</code> files with enhanced metadata are also supported</li> <li>To minimise the chance of problems with MA you should follow the Kodi guidelines here https://kodi.wiki/view/Music_tagging Just about all the tips, tricks and suggestions on that page are applicable to MA and if you follow it all to the letter you will have a much better experience</li> <li>For multi disc albums it is recommended (but not required) to add folders named \u201cDisc 1\u201d, \u201cDisc 2\u201d, etc beneath a folder with the album name. Artwork for the album can be added to the top level album folder or in the disc folders</li> <li>If there is nothing added to the disc tag then the disc number will not be shown in the display</li> </ul>"},{"location":"music-providers/filesystem/#manually-adjusting-tags","title":"Manually Adjusting Tags","text":"<p>Danger</p> <p>The following should be considered as advanced. Making manual changes to the tags can have undesired effects to the MA library if you make mistakes. Additionally, matching may not occur or may occur incorrectly between providers</p> <p>Normally it is best to leave the Picard tags unchanged. However, some people do not agree with Musicbrainz that remasters are the same as the original recording. To separate these out you can edit the tags as follows:</p> <ul> <li>Remove MusicBrainz Release ID and Recording ID</li> <li>Keep MusicBrainz Artist ID</li> <li>Remove ISRC (as that is also used as strong identifier for tracks)</li> <li>Remove barcode (as that is also used as strong identifier for albums)</li> <li>Because there is no version specific ID3 tag, place the version between brackets in the title. For example, Great Song (Vinyl Rip)</li> </ul>"},{"location":"music-providers/gpodder/","title":"gPodder","text":""},{"location":"music-providers/gpodder/#gpodder-provider","title":"gPodder Provider","text":"<p>Music Assistant has support for gPodder. Contributed and maintained by Fabian Munkes</p>"},{"location":"music-providers/gpodder/#features","title":"Features","text":"Subscription FREE Yes Self-Hosted Local Media No Media Types Supported Podcasts Recommendations Supported No Lyrics Supported No Radio Mode No Maximum Stream Quality Lossy, Variable Quality Login Method Password or Nextcloud Login"},{"location":"music-providers/gpodder/#other","title":"Other","text":"<ul> <li>Progress reporting and acquiring</li> <li>Populates libraries with podcasts</li> <li>Updates playlog on regular provider syncs</li> </ul>"},{"location":"music-providers/gpodder/#configuration","title":"Configuration","text":""},{"location":"music-providers/gpodder/#gpoddernet-compatible-webservice","title":"gpodder.net compatible webservice","text":"<p>A mygpo compatible web service is supported, and this provider is tested against opodsync To setup this functionality you need:</p> <ul> <li>gPodder Service URL. For example, <code>http://192.168.1.20:14000</code> or <code>https://sync.yourdomain.com</code> </li> <li>Username.</li> <li>Password.</li> <li>Device ID.</li> </ul> <p>Note</p> <p>The Device ID can be any ASCII string, but keep in mind, that this is used for syncing. Other clients must use the same Device ID</p> <p>Note</p> <p><code>gpodder.net</code> is deliberately not supported. The provider relies on frequent API calls, and the service hosted there is known to be either slow or fully unresponsive, which will slow down MA. Consider using a locally hosted alternative.</p>"},{"location":"music-providers/gpodder/#nextcloud-gpodder","title":"nextcloud-gpodder","text":"<p>The provider supports nextcloud-gpodder/gpoddersync.</p> <p>To setup this functionality, you need the <code>Nextcloud URL</code>, and then click the AUTHENTICATE WITH NEXTCLOUD button to start the authentication flow. Click save when finished</p>"},{"location":"music-providers/gpodder/#settings","title":"Settings","text":"<ul> <li>Maximum number of episodes. Maximum number of episodes to sync per feed. Use 0 for unlimited</li> <li>Advanced - Verify SSL. Enable to verify the certificate of SSL/TLS connections. This is on by default</li> </ul>"},{"location":"music-providers/gpodder/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Nil</li> </ul>"},{"location":"music-providers/ibroadcast/","title":"iBroadcast","text":""},{"location":"music-providers/ibroadcast/#ibroadcast-provider","title":"iBroadcast Provider","text":"<p>Music Assistant has support for streaming your music from iBroadcast. Contributed and maintained by robsonke</p> <p>Note</p> <p>Both the free and paid subscription options are supported</p>"},{"location":"music-providers/ibroadcast/#features","title":"Features","text":"Subscription FREE Yes Self-Hosted Local Media No Media Types Supported Artists, Albums, Tracks, Playlists Recommendations Supported No Lyrics Supported No Radio Mode No Maximum Stream Quality Lossless FLAC (192 kHz / 24 bit) Login Method Password"},{"location":"music-providers/ibroadcast/#configuration","title":"Configuration","text":"<p>Use your account username and password to authenticate. This will automatically start importing your full library.</p>"},{"location":"music-providers/ibroadcast/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>The initial sync can take some time in case of a large library. The API of iBroadcast is not so refined, so it downloads all content at once</li> </ul>"},{"location":"music-providers/ibroadcast/#not-yet-supported","title":"Not Yet Supported","text":"<ul> <li>Folders and tags</li> </ul>"},{"location":"music-providers/itunes-podcast/","title":"iTunes Podcast Search","text":""},{"location":"music-providers/itunes-podcast/#itunes-podcast-search-provider","title":"iTunes Podcast Search Provider","text":"<p>Music Assistant has support for iTunes Podcast Searching. Contributed and maintained by Fabian Munkes</p>"},{"location":"music-providers/itunes-podcast/#features","title":"Features","text":"Subscription FREE Yes Self-Hosted Local Media No Media Types Supported Podcasts Recommendations Supported Yes Lyrics Supported No Radio Mode No Maximum Stream Quality Lossy, Variable Quality Login Method None"},{"location":"music-providers/itunes-podcast/#other","title":"Other","text":"<ul> <li>Search for podcasts via the iTunes API</li> </ul>"},{"location":"music-providers/itunes-podcast/#configuration","title":"Configuration","text":"<ul> <li>Configure your country</li> <li>Specify the Maximum number of episodes to be retrieved (use 0 for all)</li> <li>Optionally disable explicit results</li> </ul>"},{"location":"music-providers/itunes-podcast/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>The search results may contain video podcasts due to the inability to filter them out</li> <li>If a podcast is desired to be part of the MA library, you have to add it, or mark it as a favorite. The provider is search only</li> <li>If a podcast does not appear in the search results, but is known to be freely available on Apple Podcast, this may be because content creators are permitted to hide the RSS feed within the Apple Podcast's source. Without the feed URL the provider is unable to access the media information (an INFO log message will appear in the MA log if this is the case). One solution is to try and search the web for an RSS feed URL for your specific podcast(s). If it exists, use the Podcast RSS Feed to add it to MA manually. The other option is to try and find it on one of the other podcast providers.</li> </ul>"},{"location":"music-providers/jellyfin/","title":"Music Assistant Jellyfin Provider","text":""},{"location":"music-providers/jellyfin/#jellyfin-provider","title":"Jellyfin Provider","text":"<p>Music Assistant has support for music servers which work to the Jellyfin definition. This component was contributed by lokiberra.</p> <p>Warning</p> <p>Please be advised that this provider currently has no dedicated developer. Issues may take longer to resolve as this will be maintained on a best effort basis. Consider sharing your music directly with MA instead</p>"},{"location":"music-providers/jellyfin/#features","title":"Features","text":"Subscription FREE Yes Self-Hosted Local Media Yes Media Types Supported Artists, Albums, Tracks, Playlists Recommendations Supported No Lyrics Supported No Radio Mode No Maximum Stream Quality Lossless FLAC (192 kHz, 24 bit) Login Method Password"},{"location":"music-providers/jellyfin/#other","title":"Other","text":"<ul> <li>Search from 'Music' libraries on the Jellyfin server</li> </ul>"},{"location":"music-providers/jellyfin/#configuration","title":"Configuration:","text":"<p>You will need to provide the following to Music Assistant:</p> <ul> <li>Server. For example, https://music.domain.tld/ or http://192.168.1.4:8096/ (for a local server)</li> <li>Username. The username for the account to be used by Music Assistant to access the server</li> <li>Password. The password for the account</li> </ul> <p>Note</p> <p>It is recommended that IP address is used instead of the domain name to avoid problems if IPv6 name resolution fails </p>"},{"location":"music-providers/jellyfin/#settings","title":"Settings","text":"<ul> <li>Advanced - Verify SSL. Enable to verify the certificate of SSL/TLS connections. This is on by default</li> </ul>"},{"location":"music-providers/jellyfin/#not-yet-supported","title":"Not Yet Supported:","text":"<ul> <li>Album types metadata</li> </ul>"},{"location":"music-providers/jellyfin/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>This provider makes use of the Jellyfin ApiClient for communicating with the server. If something is failing to work properly in Music Assistant, try to use that library to interact with your server (can you ping it?, fetch artist and albums?, can you search?)</li> </ul>"},{"location":"music-providers/nugs/","title":"Nugs.net","text":""},{"location":"music-providers/nugs/#nugsnet-provider","title":"Nugs.net Provider","text":"<p>Music Assistant has support for streaming your music from Nugsnet. Contributed and maintained by Brian</p> <p>Note</p> <p>A paid subscription is required to use this provider</p>"},{"location":"music-providers/nugs/#features","title":"Features","text":"Subscription FREE No Self-Hosted Local Media No Media Types Supported Artists, Albums, Playlists Recommendations Supported No Lyrics Supported No Radio Mode No Maximum Stream Quality Lossless FLAC (192 kHz / 24 bit) Login Method Password"},{"location":"music-providers/nugs/#other","title":"Other","text":""},{"location":"music-providers/nugs/#configuration","title":"Configuration","text":"<p>To configure, input a username and password.</p>"},{"location":"music-providers/nugs/#known-issues-notes","title":"Known Issues / Notes","text":"<p>Nugs does not support favorite tracks. Similarly, there is no endpoint available to pass a nugs track ID and receive relevant details such as track name or artist.</p>"},{"location":"music-providers/nugs/#not-yet-supported","title":"Not Yet Supported","text":"<ul> <li>Nugs.net has a radio stream but this is not available</li> <li>Search</li> </ul>"},{"location":"music-providers/plex/","title":"Plex","text":""},{"location":"music-providers/plex/#plex-provider","title":"Plex Provider","text":"<p>Music Assistant has support for using Plex (MusicLibrary). Contributed by micha91 and maintained by anatosun</p>"},{"location":"music-providers/plex/#features","title":"Features","text":"Subscription FREE Yes Self-Hosted Local Media Yes Media Types Supported Artists, Albums, Tracks, Playlists Recommendations Supported No Lyrics Supported No Radio Mode No Maximum Stream Quality Lossless FLAC (192 kHz, 24 bit) Login Method Password"},{"location":"music-providers/plex/#other","title":"Other","text":"<ul> <li>Search the Plex server</li> </ul>"},{"location":"music-providers/plex/#configuration","title":"Configuration","text":"<ul> <li>Click the <code>Use Plex GDM to discover local servers</code> button, this should discover your local server and prefill the <code>local_server_ip</code> and <code>local_server_port</code> fields</li> <li>If GDM discovery fails, the 2 fields mentioned above will be filled with \"Discovery failed.... \". In this case, please add the IP address (without any http:// prefix) of your server, and the port (usually 32400) that you are exposing it on</li> <li>Select the <code>SSL (HTTPS)</code> toggle if required. If this setting is enabled an option in the Advanced Settings will be activated which requires the certificate to be verified (default is on)</li> <li>If you login to Plex via MYPLEX.TV, click the <code>Authenticate on MYPLEX.TV</code> button, this may trigger your browser <code>pop-up</code> detection, so watch out for that, authenticate as you normally would for Plex</li> <li>If you have configured Plex to allow local connection without authentication (see below), click the <code>Authenticate Locally</code> button</li> <li>Select the Music library that you would like to use</li> <li>Save the settings</li> </ul>"},{"location":"music-providers/plex/#plex-configuration","title":"Plex Configuration","text":"<ul> <li>If you want to allow Music Assistant to connect to Plex without authentication, go to your Plex configuration, Settings / Network. In the field labeled <code>List of IP addresses and networks that are allowed without auth</code> enter the IP address of the computer running Music Assistant, and <code>Save Changes</code></li> </ul>"},{"location":"music-providers/plex/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>A Plex provider is always bound to a user account and a library</li> <li>If you have multiple libraries, you need to add the Plex provider multiple times</li> <li>If you have multiple Plex accounts, which have their own playlists, you can also add them as separate provider instances</li> </ul>"},{"location":"music-providers/podcastfeed/","title":"Podcast RSS Feed","text":""},{"location":"music-providers/podcastfeed/#podcast-rss-feed-provider","title":"Podcast RSS Feed Provider","text":"<p>Music Assistant has support for streaming podcasts from RSS feeds. Contributed and maintained by saeugetier</p> <p>The Podcast RSS Provider allows subscribing to podcast feeds. The RSS Feed only provides a single podcast. No aggregated feeds are possible. For multiple podcasts, multiple providers with each a unique feed must be configured.</p>"},{"location":"music-providers/podcastfeed/#features","title":"Features","text":"Subscription FREE Yes Self-Hosted Local Media No Media Types Supported Podcasts Recommendations Supported No Lyrics Supported No Radio Mode No Maximum Stream Quality Lossy, Variable Quality Login Method None"},{"location":"music-providers/podcastfeed/#other","title":"Other","text":"<ul> <li>Allows parsing a standardized RSS podcast feed retrieved by a configured URL</li> </ul>"},{"location":"music-providers/podcastfeed/#configuration","title":"Configuration","text":"<p>In the Generic Settings add the full RSS feed URL.</p>"},{"location":"music-providers/podcastfeed/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Only feeds strictly following the standardized podcast feed format are supported</li> <li>No checking is done to identify two or more providers configured with the same feed</li> </ul>"},{"location":"music-providers/podcastfeed/#not-yet-supported","title":"Not Yet Supported","text":"<ul> <li>Automatic synchronization at a given interval. Podcast feed information must be refreshed manually</li> </ul>"},{"location":"music-providers/qobuz/","title":"Qobuz","text":""},{"location":"music-providers/qobuz/#qobuz-provider","title":"Qobuz Provider","text":"<p>Music Assistant has full support for Qobuz, including Qobuz's excellent HiRes catalogue!</p>"},{"location":"music-providers/qobuz/#features","title":"Features","text":"Subscription FREE No Self-Hosted Local Media No Media Types Supported Artists, Albums, Tracks, Playlists Recommendations Supported No Lyrics Supported No Radio Mode No Maximum Stream Quality Lossless FLAC (192 kHz, 24 bit) Login Method Password"},{"location":"music-providers/qobuz/#other","title":"Other","text":"<ul> <li>Searching the Qobuz catalogue</li> <li>Items in your Qobuz Favourites will be marked as \"in library\" in Music Assistant</li> <li>Marking an item as \"in library\" from the Music Assistant interface will also mark it as a favorite in Qobuz</li> <li>On playback, the highest quality is preferered automatically</li> </ul>"},{"location":"music-providers/qobuz/#configuration","title":"Configuration","text":"<ul> <li>In the configuration, you need to enter your Qobuz username and password</li> </ul>"},{"location":"music-providers/qobuz/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Radio Mode is not supported</li> </ul>"},{"location":"music-providers/qobuz/#not-yet-supported","title":"Not yet supported","text":"<ul> <li>Recommendations</li> </ul>"},{"location":"music-providers/radio-browser/","title":"Radio Browser","text":""},{"location":"music-providers/radio-browser/#radio-browser-provider","title":"Radio Browser Provider","text":"<p>Music Assistant has support for RadioBrowser which allows easy addition of online radio stations to Music Assistant.</p>"},{"location":"music-providers/radio-browser/#features","title":"Features","text":"Subscription FREE Yes Self-Hosted Local Media No Media Types Supported Radio Recommendations Supported No Lyrics Supported No Radio Mode No Maximum Stream Quality Varies by station Login Method None"},{"location":"music-providers/radio-browser/#other","title":"Other","text":"<ul> <li>Browse by country, by tag, or by popularity</li> </ul>"},{"location":"music-providers/radio-browser/#configuration","title":"Configuration","text":"<ul> <li>In the configuration, you only need to click the save button. </li> </ul>"},{"location":"music-providers/radio-browser/#usage","title":"Usage","text":"<p>The Radio provider doesn't add stations to the 'radiostation' tab by default.</p> <ol> <li>In the left hand menu you need to select 'browse'</li> <li> <p>Then click 'RadioBrowser'</p> <p></p> </li> <li> <p>Then navigate to the radio-station you want to listen to</p> </li> <li>Click play now or add to library </li> </ol> <p>After completing step 4 the station will become available in the Radio view</p>"},{"location":"music-providers/radio-browser/#known-issues-notes","title":"Known Issues / Notes","text":"<p>When browsing the various Radio Browser categories, results are limited to the first 1000. For categories with more than 1000 stations use the search function.</p>"},{"location":"music-providers/siriusxm/","title":"SiriusXM","text":""},{"location":"music-providers/siriusxm/#siriusxm-provider","title":"SiriusXM Provider","text":"<p>Music Assistant has support for streaming live radio stations from SiriusXM. Contributed and maintained by btoconnor</p> <p>Note</p> <ul> <li>A paid subscription is required to add this Music Provider. </li> </ul>"},{"location":"music-providers/siriusxm/#features","title":"Features","text":"Subscription FREE No Self-Hosted Local Media No Media Types Supported Radio Recommendations Supported No Lyrics Supported No Radio Mode No Maximum Stream Quality Lossy variable bitrate Login Method Password"},{"location":"music-providers/siriusxm/#other","title":"Other","text":"<ul> <li>Supports streaming live radio from SiriusXM</li> </ul>"},{"location":"music-providers/siriusxm/#configuration","title":"Configuration","text":"<p>Add the account username, password and region (United States or Canada) into the respective fields.</p>"},{"location":"music-providers/siriusxm/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Radio stations favorited on SiriusXM are not reflected in Music Assistant. The stations need to be favorited manually via the MA UI to have them show up in the Radio view</li> <li>Problems have been reported logging in with an e-mail address. If this occurs obtain a username</li> </ul>"},{"location":"music-providers/siriusxm/#not-yet-supported","title":"Not Yet Supported","text":"<p>On Demand Content</p>"},{"location":"music-providers/soundcloud/","title":"SoundCloud","text":""},{"location":"music-providers/soundcloud/#soundcloud-provider","title":"SoundCloud Provider","text":"<p>Music Assistant has support for Soundcloud. Contributed by gieljnssns. Maintained by robsonke</p>"},{"location":"music-providers/soundcloud/#features","title":"Features","text":"Subscription FREE Yes Self-Hosted Local Media No Media Types Supported Artists, Albums, Tracks, Playlists Recommendations Supported No Lyrics Supported No Radio Mode No Maximum Stream Quality Lossy AAC (256kbps) Login Method Cookie"},{"location":"music-providers/soundcloud/#configuration","title":"Configuration","text":"<p>Two fields need to be completed to use this provider, Client id and Authorization. To obtain these proceed as follows:</p> <ol> <li>Delete your cookies for Soundcloud.</li> <li>Go to Soundcloud.</li> <li>Open the <code>Inspect</code> tool (F12 on most browsers).</li> <li>Go to the page <code>Network</code> on the inspect terminal.</li> <li>Login.</li> <li>Search for <code>auth</code>.</li> <li>In one of the requests you will find the <code>client_id</code></li> <li>And for the OAuth token we need the <code>oauth_token</code> cookie on the soundcloud.com domain prepended with \"OAuth \"</li> </ol> <p><code>client_id</code>: string of 32 bytes alphanumeric <code>oauth_token</code>: string inside the cookie value</p>"},{"location":"music-providers/soundcloud/#client-id","title":"Client id","text":""},{"location":"music-providers/soundcloud/#oauth-token","title":"OAuth token","text":"<p>Example snippet for the Music Provider configuration step (OAuth and client_id are NOT real, use yours):</p> <pre><code>client_id = 5Hvc9wa0Ejf092wj3f3920w3F920asuL\nAuthorization = OAuth 2-26432-21446-asdif2309fQ\n</code></pre>"},{"location":"music-providers/soundcloud/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Artists synced from Soundcloud are actually Soundcloud users.</li> <li>If a song by artist X is uploaded by user Y, this song belongs to the artist Y in Music Assistant</li> </ul>"},{"location":"music-providers/spotify/","title":"Spotify","text":""},{"location":"music-providers/spotify/#spotify-provider","title":"Spotify Provider","text":"<p>Music Assistant has full support for Spotify media listing and playback.</p> <p>Note</p> <p>A Spotify Premium account is required for this music provider. Free accounts will not work.</p>"},{"location":"music-providers/spotify/#features","title":"Features","text":"Subscription FREE No Self-Hosted Local Media No Media Types Supported Artists, Albums, Tracks, Playlists Recommendations Supported No Lyrics Supported No Radio Mode Yes Maximum Stream Quality Lossy, OGG Vorbis (320kbps) Login Method OAuth"},{"location":"music-providers/spotify/#other","title":"Other","text":"<ul> <li>Searching the Spotify catalogue</li> <li>Items in your Spotify library (including the Liked Songs playlist) will be added to the Library in Music Assistant</li> <li>Adding an item from Spotify to the Music Assistant Library will also add it to \"Your Library\" in Spotify</li> <li>Marking an item as a favourite in Music Assistant will also add it to the MA Library and \"Your Library\" in Spotify</li> <li>Multiple Spotify accounts can be added. All playlists from all accounts will be shown. If a playlist is selected for playback the source Spotify account will be used</li> </ul>"},{"location":"music-providers/spotify/#configuration","title":"Configuration","text":"<ul> <li>You can only configure the Spotify provider from a device which is on the same subnet as the MA server (and not via a VPN)</li> <li>It is strongly recommended that a personal ClientID is used as this will speed up access to the Spotify API and should eliminate rate limiting. How to obtain a ClientID is explained here. When entering the information in the various fields the only mandatory item is the REDIRECT URL which must be set to <code>https://music-assistant.io/callback</code>. Using a personal ClientID is optional but rate limiting and streaming errors will likely be seen in the log if it is not supplied</li> <li>After deciding whether to use a personal ClientID, click on the large button AUTHENTICATE WITH SPOTIFY</li> <li>A new window will open where you must allow Spotify to connect to Music Assistant</li> <li>You must then come back to MA and press SAVE in the Spotify settings page. If the device you are on kills the MA frontend before this is done then the provider setup will fail (Use a different, typically non-mobile, device if this happens)</li> </ul>"},{"location":"music-providers/spotify/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Due to restrictions with Spotify's API, only Spotify Premium accounts are supported (including Duo and Family). Free accounts will not work</li> <li>When using a personal ClientID, automatically generated playlists such as \"Discover Weekly\" and radio mode will no longer work</li> </ul> <p>Note</p> <p>Official \"by Spotify\" playlists are not available when using a personal ClientID for authentification.</p>"},{"location":"music-providers/spotify/#not-yet-supported","title":"Not yet supported","text":"<ul> <li>Podcasts support (see this feature request)</li> <li>Recommendations (see this feature request)</li> </ul>"},{"location":"music-providers/subsonic/","title":"Subsonic","text":""},{"location":"music-providers/subsonic/#subsonic-provider","title":"Subsonic Provider","text":"<p>Music Assistant has support for music servers which work to the Open Subsonic API definition. The implementation has been tested against Gonic and Navidrome but should work with any implementation. This component is contributed and maintained by khers</p>"},{"location":"music-providers/subsonic/#features","title":"Features","text":"Subscription FREE Yes Self-Hosted Local Media Yes Media Types Supported Artists, Albums, Tracks, Playlists, Podcasts Recommendations Supported Yes Lyrics Supported No Radio Mode Yes Maximum Stream Quality Lossless FLAC (24 bit, 192 kHz) Login Method Password"},{"location":"music-providers/subsonic/#other","title":"Other","text":"<ul> <li>Searching the Subsonic catalogue</li> <li>All music tracks will be imported into MA</li> </ul>"},{"location":"music-providers/subsonic/#configuration","title":"Configuration:","text":"<p>You will need to provide the following to Music Assistant:</p> <ul> <li>Username. The account you want Music Assistant to use to access your server</li> <li>Password. For the account specified</li> <li>Base URL. The server URL starting with http:// or https:// (e.g. https://music.domain.tld)</li> <li>Port. Typically, 80 for plain http, or 443 for https, but can be any port where your server can be reached</li> <li>Server Path. Path to append to the Base URL which is used to get to the Rest API (e.g. mypathroute/ if you are path routing. (Leave this blank unless you know you need it))</li> </ul>"},{"location":"music-providers/subsonic/#settings","title":"Settings","text":"<ul> <li>Enable Podcasts. This toggle controls podcast availability in Music Assistant</li> <li>Enable Legacy Auth. Some Subsonic implementations require this to be enabled to authenticate</li> <li>Force Player Provider Seek. Some Subsonic implementations advertise that seeking is supported when it isn't. If seeking does not work then enable this option</li> <li>Recommend Favorites. Should favorited (starred) items be included as recommendations?</li> <li>Recommend New Albums. Should new albums be included as recommendations?</li> <li>Recommend Most Played. Should most played albums be included as recommendations?</li> <li>Recommendation Limit. How many recommendations from each enabled type should be included?</li> </ul>"},{"location":"music-providers/subsonic/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Not all server implementations accept an empty string as a search query, however this is considered valid input per the API documentation. If search or track enumeration fails, ask the authors of your server implementation about handling empty query strings</li> <li>This provider makes use of https://github.com/khers/py-opensonic for communicating with the server, if something is failing to work properly in Music Assistant, try to use that library to interact with your server (can you ping it?, fetch artist and albums?, can you search?)</li> <li>This provider only supports servers implementing the Open Subsonic API definition. To verify that your server is compatible, use the same setup you used to test connectivity above to hit the getOpenSubsonicExtensions() endpoint. If this endpoint is not implemented, MA cannot talk to your server</li> <li>If you find a mismatch between what is displayed by your Subsonic compatible server and Music Assistant then refer to and contribute here to help find a solution</li> <li>Not all Open Subsonic implementations handle tracks/albums with multiple contributing artists particularly well. If you see strange artists listed in Music Assistant, please verify that your implementation has an artist ID for all artists listed on a track or album. See the discussion here</li> <li>If problems are encountered seeking within tracks try the <code>Force player provider seek</code> option in the subsonic provider settings </li> <li>It may not be possible to playback m4a files. Options to workaround this are<ul> <li>Don't use this format</li> <li>Force the subsonic server to transcode all m4a files before serving to a format that works</li> <li>Don't serve these files from a subsonic server</li> <li>It may be possible to force an encoder to place the moov atom at the beginning of the file. This would make the files playable, but MA provides no support for this</li> </ul> </li> <li>Don't Stop the Music mode (described here) relies on your subsonic servers implementation of the getSimilarSongs end point. Please ensure that you have configured your server for this to work. Both Gonic and Navidrome require the addition of a Last.fm API key to provide similar songs. Please see your subsonic server's documentation.</li> </ul>"},{"location":"music-providers/tidal/","title":"Tidal","text":""},{"location":"music-providers/tidal/#tidal-provider","title":"Tidal Provider","text":"<p>Music Assistant has support for Tidal. Contributed and maintained by jozefKruszynski</p>"},{"location":"music-providers/tidal/#features","title":"Features","text":"Subscription FREE No Self-Hosted Local Media No Media Types Supported Artists, Albums, Tracks, Playlists Recommendations Supported Yes Lyrics Supported No Radio Mode Yes Maximum Stream Quality Lossless FLAC (24 bit, 192 kHz) Login Method OAuth"},{"location":"music-providers/tidal/#other","title":"Other","text":"<ul> <li>Searching the Tidal catalogue</li> <li>Items in your Tidal library will be marked as \"Favourites\" in Music Assistant</li> <li>Marking an item as a \"Favourite\" from the Music Assistant interface will also mark it as favourite in Tidal</li> <li>On playback, the highest quality FLAC HiFi version will be selected</li> </ul>"},{"location":"music-providers/tidal/#configuration","title":"Configuration","text":"<p>In the configuration, there are a series of steps that must be completed in order. Start at the top of the page and work down. </p> <p></p> <ol> <li> <p>Click on the first button and you will be redirected to the Tidal login page and after logging in you will be taken to an error page which is normal.</p> <p></p> </li> <li> <p>Take the full URL in the address bar of the Oops error page and insert it into the configuration screen  </p> </li> <li> <p>Click on the last button to complete the setup</p> </li> </ol>"},{"location":"music-providers/tidal/#settings","title":"Settings","text":"<ul> <li>Quality setting for Tidal. Options are <code>Max [default]</code> or <code>High</code>. Max is up to 24-bit, 192 kHz and High is up to 16-bit, 44.1 kHz.</li> </ul>"},{"location":"music-providers/tidal/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>If the authorisation process gets stuck then try a different browser. It is likely the authorisation pop up window is being blocked</li> <li>If login is normally accomplished with \"Proceed with Google\" then a workaround is required as this option is not shown on the login page used my MA for authentication. In this case login to Tidal normally using a browser. In the same browser start the authentication process via MA. A prompt should be observed to use the existing login. Accepting that should result in the error page mentioned in step 1 above. From that point proceed with steps 2 and 3 above.</li> </ul>"},{"location":"music-providers/tidal/#not-yet-supported","title":"Not yet supported","text":"<ul> <li>Multiple accounts (this is being worked on and available soon)</li> </ul>"},{"location":"music-providers/tunein/","title":"TuneIn","text":""},{"location":"music-providers/tunein/#tunein-provider","title":"TuneIn Provider","text":"<p>Music Assistant has support for Tunein</p>"},{"location":"music-providers/tunein/#features","title":"Features","text":"Subscription FREE Yes Self-Hosted Local Media No Media Types Supported Radio Recommendations Supported No Lyrics Supported No Radio Mode No Maximum Stream Quality Varies by station Login Method None"},{"location":"music-providers/tunein/#other","title":"Other","text":"<ul> <li>The stations which are in your TuneIn library will be imported into the MA library and be visible in the Radio view</li> </ul>"},{"location":"music-providers/tunein/#configuration","title":"Configuration","text":"<p>In the Generic Settings, add your Username.</p>"},{"location":"music-providers/youtube-music/","title":"YouTube Music","text":""},{"location":"music-providers/youtube-music/#youtube-music-provider","title":"YouTube Music Provider","text":"<p>Music Assistant has support for Youtube Music. Contributed and maintained by MarvinSchenkel</p> <p>DISCLAIMER</p> <p>Please note that Youtube does not offer an official API to retrieve data and streams. This means that everything is built on a best-effort basis. Unexpected behavior will occur whilst using this provider. For this reason if you have another streaming provider you may find it more convenient to use that instead of this one.</p> <p>Note</p> <p>Free accounts are NOT supported.</p>"},{"location":"music-providers/youtube-music/#features","title":"Features","text":"Subscription FREE No Self-Hosted Local Media No Media Types Supported Artists, Albums, Tracks, Playlists, Podcasts Recommendations Supported Yes Lyrics Supported No Radio Mode Yes Maximum Stream Quality Lossy, AAC (256kbps) Login Method Token + Cookie"},{"location":"music-providers/youtube-music/#other","title":"Other","text":"<ul> <li>Searching the YouTube Music catalogue</li> <li>The highest available stream from Youtube Music will be selected for playback (similar to configuring 'high' in the web-app)</li> </ul>"},{"location":"music-providers/youtube-music/#configuration","title":"Configuration","text":"<p>As of Nov 2024, Google has removed OAuth authentication from YT Music. This means using this (somewhat cumbersome) method of cookie authentication is the only way to get YT Music working.</p> <p>Note</p> <p>Cookies will expire after some time. This means that you will have to run this process again if YT Music stops working and you see <code>401: Unauthorized</code> or <code>Unable to fetch PO Token for web_music client</code> in the MA log. Maximise the cookie life by using this method to obtain the cookie</p> <p>Note</p> <p>If a Family Account is in use then setting up a dedicated account for MA will assist in maximising cookie life </p>"},{"location":"music-providers/youtube-music/#obtaining-the-cookies","title":"Obtaining the Cookies","text":"<p>YouTube rotates account cookies frequently on open YouTube browser tabs as a security measure. To export cookies that will remain working, you will need to export cookies in such a way that they are never rotated. One way to do this is through a private browsing/incognito window.</p> <ul> <li>Open YT Music in your browser in an incognito window.</li> <li> <p>Open the developer tools via View -&gt; Developer -&gt; Developer Tools. Note that this might be named differently based on your browser. It should open a window similar to this: </p> </li> <li> <p>Navigate to the 'Network' tab</p> </li> <li>In the filter bar, type \"/browse\"</li> <li>Now navigate to a page in YT Music that requires authentication, for example, on of your library playlists</li> <li>A request will show-up in the table:</li> </ul> <p></p> <ul> <li>Click the request and make sure you are on the 'Headers' tab</li> <li>Find the section called 'Request Headers'</li> <li>Find the item named 'Cookie' and copy the value. It is VERY important that you copy the exact value. Double check that you do not include any additional spaces or characters at the start/end of the value </li> </ul>"},{"location":"music-providers/youtube-music/#installing-the-po-token-addon","title":"Installing the PO Token addon","text":"<p>As of March 2025, Google has implemented a new security mechanism called 'PO Tokens' (Proof of Origin). Music Assistant will not be able to resolve stream urls for your music without a valid PO Token. Luckily, we can automatically generate this for you, but you will need to install an add-on (also available as a docker image) for this.</p> <ul> <li>Within Home Assistant, go to Settings &gt; Add-ons &gt; Add-on Store</li> <li>Scroll down to the 'Music Assistant' section.</li> <li>A new add-on called 'YT Music PO Token Generator' is available.</li> <li>Install this add-on and make sure it is started before adding the YT Music provider within Music Assistant</li> </ul> <p>Note</p> <p>If you are hosting Music Assistant yourself, you can download the Docker file for the PO Token server here but you must run the version currently supported by MA which is 1.2.1. Install the correct version and run it, then return to Music Assistant and add the URL to the PO token server when configuring the YT Music Provider.</p>"},{"location":"music-providers/youtube-music/#configuring-the-provider","title":"Configuring the provider","text":"<ul> <li>Navigate to 'Settings'</li> <li>Under Music Providers, click 'Add new', select 'Youtube Music' and fill out the fields in the Generic Settings section as follows:<ul> <li>Username. Use your gmail address or use a brand account (see brand account)</li> <li>Login Cookie. Paste the value obtained above</li> <li>PO Token Server URL. Leave this setting as the default if running the PO server as an add-on on the same host as the MA add-on. If running the PO token server separately then adjust the IP address and port accordingly</li> </ul> </li> <li>Click 'Save'</li> </ul> <p>Error on Saving</p> <p>If <code>__Secure-3PAPISID</code> is seen after saving this means the cookie is not from an authenticated request. Navigate to some more pages inside YT Music that require authentication (e.g. your library). To confirm the right cookie has been obtained paste it into a text editor and search for \"__Secure-3PAPISID\". If difficulties are encountered obtaining a cookie with this value, try a different browser.</p>"},{"location":"music-providers/youtube-music/#using-brand-accounts","title":"Using brand accounts","text":"<p>A brand account is a sub-account that lives under your main Google account. You need to find your brand account id if you want to login using your brand account.</p> <ul> <li>Go to https://myaccount.google.com/</li> <li>From the top right menu, select your brand account</li> <li>Look at the URL and copy the 21-digit number</li> <li>Use this number in the 'Username' field when setting up the provider</li> </ul>"},{"location":"music-providers/youtube-music/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>This provider mimics YouTube Music. Do not expect to see the same search results as you see if using YouTube</li> <li>There is no support for the disc and track number in album tracks listings. Currently, the disc number is always 0 and the track number is the order number in which the tracks were returned by Youtube Music. This should generally give the desired result, but could mess up multi-disc albums</li> <li>Whether music videos are selected for playback fully depends on what you are playing. If you have saved a specific album in your library, then that exact version will show up in MA and thus you will have the album version. However, if you start a radio on, for example, a playlist, then Youtube Music decides which songs will be played in a 'dynamic radio' playlist which could include videos</li> <li>Uploaded Music should be able to be found when it is in a playlist. If it's just a single track being searched for then it may not be found, since often those uploaded songs don't have proper metadata. It will be hard to find them via the UI in MA</li> <li>Some low quality artwork can be expected when using this provider. YTM is very inconsistent when it comes to delivering thumbnails. When a Playlist or album is retrieved, the thumbs for the tracks are usually in low quality for all songs. However, when a single track is played the HQ version should be displayed. This provider tries to work around the problem for albums and playlists by loading details for the next enqueued track, but some low quality album art is still expected to be encountered</li> <li>By default, only the liked music and 'episodes for later' playlists are added to the YTM library and thus will appear in MA. In order to see other personal playlists in the MA library, you have to go into the YT Music web app and add those personal playlists to your library</li> </ul>"},{"location":"player-support/","title":"Player Support","text":""},{"location":"player-support/#player-providers","title":"Player Providers","text":"<p>For specific player provider information refer to the relevant section in this document. For a description of possible settings refer to the Player Provider Settings and Individual Player Settings pages. When a player provider is enabled, then the devices which support that protocol will be automatically discovered by Music Assistant. The following table summarises player capabilities. Note that DLNA and HA players can suffer from poor implementation of required standards. If these player types do not work well and the device supports other protocols then use the other protocol.</p> <p></p> <p>If a device supports multiple protocols then multiple players for the device will be seen. In the Individual Player Settings you can disable or hide any players you do not use. </p> <p>Players can only be deleted if they are unavailable or disabled. Deleting a player can be useful if there is a problem with it. Deleted players which become or are still available will get rediscovered and will return to the list on MA restart or player provider reload.</p> <p> </p> <p>Note</p> <p>If any player is not transitioning between songs then check if the player has the option QUEUE FLOW MODE. Try enabling it if it does.</p>"},{"location":"player-support/#audio-quality","title":"Audio Quality","text":"<p>Audio quality is the principal reason why native MA players are developed. These players provide the highest quality playback experience. HA players should work and may work well but they may also have been written with a basic objective such as enabling text to speech. Therefore, if there is a MA player available and a HA integration then you should always choose the MA player. </p> <p>A sample rate above 48kHz or a bit depth above 16 is considered High Resolution (Hi Res)</p>"},{"location":"player-support/airplay/","title":"AirPlay","text":""},{"location":"player-support/airplay/#airplay","title":"AirPlay","text":"<p>Music Assistant has support for AirPlay based devices which support RAOP. This includes Apple devices such as the Homepod but also a very wide range of 3rd party devices such as receivers and smart speakers. Due to the fact that AirPlay uses lossless, timestamped streaming it is a very interesting protocol for lossless multi room playback.</p>"},{"location":"player-support/airplay/#features","title":"Features","text":"<ul> <li>AirPlay devices are auto detected in Music Assistant, plug and play</li> <li>AirPlay devices will play in sync</li> <li>Audio quality is lossless 44.1 kHz/16bits PCM and optionally compressed as (lossless) ALAC</li> <li>The player settings allow configuration of stereo pairs of speakers</li> </ul>"},{"location":"player-support/airplay/#settings","title":"Settings","text":"<p>In addition to the Individual Player Settings the AirPlay provider also has a unique section called <code>AirPlay Specific Settings</code>. The available settings are:</p> <ul> <li>Enable encryption. Enable encrypted communication if required by the player </li> <li>Enable compression. Enable to save some bandwidth by sending the audio as (lossless) ALAC</li> <li>Device password. If the device requires a password to play then it is added here</li> <li>Audio buffer. Amount of buffer (in milliseconds) the player should keep to absorb network throughput jitter. If audio dropouts are experienced, try increasing this value. The default is 1000</li> <li>Ignore volume reports sent by the device itself. The AirPlay protocol allows devices to report their own volume level. For some devices this is not reliable and can cause unexpected volume changes. Enable this option to ignore these reports</li> </ul>"},{"location":"player-support/airplay/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Music Assistant implements RAOP only, AirPlay 2 devices should be backwards compatible by default. If a device has a bad implementation of AirPlay 1 and/or only supports AirPlay 2 without RAOP then it won't work</li> <li>Whilst it is believed to have been fixed, issues have been reported when using Shairport and AirPlay 2. If problems are encountered they try disabling AirPlay 2</li> <li>Playback to Macbooks is not possible due to removal of RAOP support</li> <li>Because Apple TV's require authentication, they are not supported yet (but will be in the future if there's any demand)</li> <li>Samsung seems to have implemented AirPlay 2 in a way that it isn't fully backwards compatible. Everything seems to work, changing volume, song info is shown, and you can control the Samsung device as expected, however there is no sound. Users of similar applications such as Roon and anything based on slimproto have the same problem</li> <li>Some devices (such as Kodi or some 3rd party AirPlay receivers) require encryption. You can enable encryption in the advanced player settings if there is no sound</li> <li>Also try compression on and off in the advanced player settings if there is no sound</li> <li>A device password can be set for those devices which require it in the advanced settings</li> <li>If you find your player is going unavailable when still powered on then it may not be sending its keep alive message. A timeout can be configured for each player. Some users have reported they have needed to set it as long as one hour</li> <li>Apple Homekit has been reported to interfere with playback. If problems are enountered then remove the devices from Apple Homekit or try changing the setting in the preferences section of Homekit (iOS) for <code>AirPlay (Speaker &amp; TV)</code></li> <li>If the AirPlay device incorrectly responds to change volume commands or randomly changes volume, try selecting the option <code>Ignore volume reports sent by the device</code> in the player's AirPlay Specific Settings</li> </ul>"},{"location":"player-support/alexa/","title":"Alexa","text":""},{"location":"player-support/alexa/#alexa-devices","title":"Alexa Devices","text":"<p>Music Assistant has support for Alexa devices. This component is contributed and maintained by Sameer Alam.</p>"},{"location":"player-support/alexa/#features","title":"Features","text":"<ul> <li>Detects all Alexa devices linked to your Amazon account and registers them as players</li> <li>Control playback (play, pause) on Alexa devices</li> <li>Set and mute volume on Alexa devices</li> </ul>"},{"location":"player-support/alexa/#settings","title":"Settings","text":"<p>In addition to the Individual Player Settings the Alexa provider also has a unique setting in the Advanced section and a unique Presets section</p> <ul> <li>Advanced - Enable Display Support. ...................</li> </ul>"},{"location":"player-support/alexa/#configuration","title":"Configuration","text":""},{"location":"player-support/alexa/#1-set-up-the-music-assistant-alexa-api-bridge","title":"1. Set Up the Music Assistant Alexa API Bridge","text":"<ul> <li>Pull from GitHub Container Registry and run the Docker container:   <pre><code>docker pull ghcr.io/alams154/music-assistant-alexa-api:latest\ndocker run --rm -d -p 3000:3000 -e USERNAME=admin -e PASSWORD=test ghcr.io/alams154/music-assistant-alexa-api:latest\n</code></pre></li> </ul>"},{"location":"player-support/alexa/#2-set-up-a-proxy-with-ssl-certificates","title":"2. Set Up a Proxy with SSL Certificates","text":"<ul> <li>Configure a reverse proxy (such as Nginx or Caddy) in front of both the API bridge (default port: 3000) and your Music Assistant streaming port (default port: 8097)</li> <li>Obtain and install valid SSL certificates (e.g. using Let's Encrypt) for your domain(s)</li> <li>Ensure both the API bridge and Music Assistant streaming endpoints are accessible via HTTPS, as Alexa requires secure endpoints</li> </ul>"},{"location":"player-support/alexa/#3-import-and-configure-the-alexa-skill","title":"3. Import and Configure the Alexa Skill","text":"<ul> <li>Go to the Alexa Developer Console</li> <li>Click Create Skill and follow the prompts:</li> <li>Choose a skill name and default language</li> <li>Select Music &amp; Audio as the experience, Custom as the model, and Alexa-Hosted (Node.js) as the hosting service</li> <li>Click Import skill and enter: <code>https://github.com/alams154/music-assistant-alexa-skill.git</code></li> <li>Wait for the import to complete</li> </ul>"},{"location":"player-support/alexa/#4-customize-the-skill","title":"4. Customize the Skill","text":"<ol> <li>Go to the Build tab in the Alexa Developer Console.</li> <li>Click the Invocation Name field and type in music assistant and hit save</li> <li>Go to the Code tab and open the <code>index.js</code> file.</li> <li>Change the API_HOSTNAME and MA_HOSTNAME constants to point to your API and Music Assistant instance.</li> <li>Change the API_USERNAME and API_PASSWORD constants regarding the basic auth settings of the alexa api container or your reverse proxy.</li> <li>Click Deploy to deploy the skill</li> <li>Go to the Test and enable skill testing in Development</li> <li>Go to the Build tab and build the skill</li> </ol> <p>Summary: The API bridge is run as a separate server, a proxy with SSL certificates must be set up, the Alexa skill is imported and configured, and then Music Assistant playback should now be enabled on your Alexa devices.</p>"},{"location":"player-support/alexa/#5-login-process","title":"5. Login Process","text":"<ul> <li>Requires Amazon account credentials (email and password)</li> <li>Requires one factor authentication code generation for the Amazon account<ul> <li>Fill in required info (email and password) on config screen</li> <li>Press <code>Authenticate with Amazon</code> button</li> <li>Click <code>Sign In</code> radio button and then the big blue <code>Sign In</code> button after filling in credentials (this will fail)</li> <li>Close that tab and click \"Click here if the popup didn't open\"</li> <li>Proceed with signing in on the Amazon login page</li> </ul> </li> </ul>"},{"location":"player-support/alexa/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Commands sometimes fail in controlling devices if used too often (this is a limitation of the Alexa API)</li> <li>State reporting is problematic therefore the playback status and volume shown in the MA UI may not reflect reality</li> <li>Announcements and custom commands may have limited support depending on the device and region</li> </ul>"},{"location":"player-support/alexa/#not-yet-supported","title":"Not Yet Supported","text":"<ul> <li>Multi-room synchronized playback (true Alexa multi-room music)</li> <li>Advanced playback features (e.g., shuffle, repeat, crossfade)</li> </ul>"},{"location":"player-support/bluesound/","title":"Bluesound","text":""},{"location":"player-support/bluesound/#bluesound","title":"Bluesound","text":"<p>Music Assistant has support for Bluesound (BlueOS) based devices. This component is contributed and maintained by Cyanogenbot.</p>"},{"location":"player-support/bluesound/#features","title":"Features","text":"<ul> <li>Bluesound devices are auto detected by Music Assistant</li> </ul>"},{"location":"player-support/bluesound/#settings","title":"Settings","text":"<p>For information about the settings seen in the MA UI refer to the Player Provider Settings and Individual Player Settings pages.</p>"},{"location":"player-support/bluesound/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Alternative inputs might not be detected</li> <li>Album covers are not visible in the Bluesound app or on devices that have a screen due to limitations in the API</li> </ul>"},{"location":"player-support/bluesound/#not-yet-supported","title":"Not Yet Supported","text":"<ul> <li>Announcements</li> <li>Synchronised playback</li> </ul>"},{"location":"player-support/builtin/","title":"Builtin","text":""},{"location":"player-support/builtin/#builtin-provider","title":"Builtin Provider","text":"<p>The Builtin provider supports playback directly to the Music Assistant Frontend, enabling easy playback to the current device. It allows playback from outside the network on which the MA server resides. </p> <p>Note</p> <p>This provider is still in development. Functionality may change</p>"},{"location":"player-support/builtin/#features","title":"Features","text":"<ul> <li>The current browser can be enabled or disabled as a target for playing music</li> <li>Play/Pause and Volume control</li> <li>The queue persists between sessions</li> </ul>"},{"location":"player-support/builtin/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>The player appears automatically in the player list and is enabled by pressing the Power button</li> <li>The player can be disabled on a per client basis via an option in MA SETTINGS &gt;&gt; FRONTEND</li> </ul>"},{"location":"player-support/builtin/#not-yet-supported","title":"Not Yet Supported","text":"<ul> <li>Lossless playback</li> <li>Selection of the streaming bitrate and container format</li> </ul>"},{"location":"player-support/dlna/","title":"DLNA/UPnP Provider","text":""},{"location":"player-support/dlna/#dlnaupnp","title":"DLNA/UPnP","text":"<p>Music Assistant has support for uPnP/DLNA based devices. This is a (somewhat) universal standard for streaming audio to supported devices. Due to the very inconsistent implementation of this protocol by manufacturers, some players will work great and others will simply not work at all or need workarounds. Other than that, if you have a device that works, you can enjoy fast local control, lossless audio support and in many cases metadata of your playing media.</p> <p>IMPORTANT</p> <p>Due to the patchy implementation of the DLNA protocol among manufacturers the most likely working configuration is with the QUEUE FLOW MODE on. If you still have problems after ensuring this is enabled then try each of the different streaming profiles</p>"},{"location":"player-support/dlna/#features","title":"Features","text":"<ul> <li>DLNA devices are auto detected in Music Assistant</li> </ul>"},{"location":"player-support/dlna/#settings","title":"Settings","text":"<p>For information about the settings seen in the MA UI refer to the Player Provider Settings and Individual Player Settings pages.</p>"},{"location":"player-support/dlna/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Some devices need special workarounds to enable playback. If playback is not working, look at the Music Assistant logs for clues and report an issue with these logs provided. Unfortunately due to the difficulty in resolving these issues they are low priority. If your device supports a different protocol then use that instead of raising an issue</li> <li>If your device is not found then try turning on the option <code>allow network scan for discovery</code></li> <li>DLNA speakers do not support crossfading of audio. If you want crossfade and/or full gapless support, queue flow mode must be enabled in the player's settings. Enabling flow mode may solve playback issues however it might come with the side effect of disabling actual physical buttons and/or display of metadata on the device itself</li> <li>It is possible to group DLNA players via a Universal Group although they may not play in sync</li> <li>Although Sonos devices are strictly also based on DLNA, they created their own extra layer on top of that such as crossfade support and many other goodies. It is therefore advised to use the Sonos Player provider with Music Assistant instead of the DLNA provider. MA disables any discovered Sonos DLNA devices by default</li> <li>In order to support a greater number of players, different streaming profiles are available. If the player doesn't work, stops mid stream or has other playback issues then change the player setting <code>HTTP Profile used for sending audio</code> and try each option until the player works</li> <li>Some players (e.g. JRiver Media Center) do not support FLAC streams. If the play command fails or there is no sound try changing <code>Output Codec to use for streaming audio to the player</code> (in the player settings under ADVANCED SETTINGS) to one of the other options</li> </ul>"},{"location":"player-support/fully-kiosk/","title":"Fully Kiosk","text":""},{"location":"player-support/fully-kiosk/#fully-kiosk-browser","title":"Fully Kiosk Browser","text":"<p>Music Assistant has support for streaming to devices running the Fully Kiosk Browser Android application</p>"},{"location":"player-support/fully-kiosk/#features","title":"Features","text":"<ul> <li>This is a basic player</li> <li>Multiple Fully Kiosk browser players can be added</li> </ul>"},{"location":"player-support/fully-kiosk/#settings","title":"Settings","text":"<p>For information about the settings seen in the MA UI refer to the Player Provider Settings and Individual Player Settings pages.</p>"},{"location":"player-support/fully-kiosk/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>The Fully Kiosk player must be manually added</li> <li>A paid license for Fully Kiosk is required</li> <li>When configuring you must add the device IP address and the Fully Kiosk password</li> <li>Once added the device name can be changed, if required, in the specific player configuration</li> <li>Some devices cannot handle the FLAC stream so an option in the settings allows for changing to the lossy MP3 codec</li> <li>Crossfade is supported if flow mode is enabled in the settings. Enabling flow mode may also solve playback issues however it might come with the side effect of disabling actual physical buttons and/or display of metadata on the device itself</li> <li>This player can be grouped via a Universal Group but perfect sync is not possible.</li> </ul>"},{"location":"player-support/google-cast/","title":"Google Cast","text":""},{"location":"player-support/google-cast/#google-cast","title":"Google Cast","text":"<p>Music Assistant has full support for Google Cast based devices. This includes Google's own hardware like the Google Nest speakers but also a wide range of other brands have \"Chromecast builtin\" support, like Harman Kardon, JBL, Canton and many others. </p>"},{"location":"player-support/google-cast/#features","title":"Features","text":"<ul> <li>Cast speakers are auto detected by Music Assistant</li> <li>Music Assistant supports playing to cast groups which are created in the Google Home app</li> <li>When using Google cast groups then perfect sync across players in that group is possible</li> <li>Any physical control buttons on the device should be supported as well as voice control</li> </ul>"},{"location":"player-support/google-cast/#settings","title":"Settings","text":"<p>In addition to the Individual Player Settings the Google Cast provider also has a unique setting in the Advanced section. Use Music Assistant Cast App is on by default and enables the use of a special MA Cast Receiver app to play media on cast devices. It has been optimised to provide better metadata and for future expansion. If issues are experienced with playback then try disabling this option.</p>"},{"location":"player-support/google-cast/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Cast speakers do not support crossfading of audio. If you want crossfade and/or full gapless support, enable the \"flow mode\" in the player's advanced settings. Enabling flow mode may solve playback issues however it might come with the side effect of disabling actual physical buttons and/or display of metadata on the device itself</li> <li>If your Chromecast speakers are not auto detected or randomly unavailable then make sure that your Cast enabled speakers are on the same network/subnet as your Music Assistant server. Additionally, ensure that multicast traffic (more specifically mDNS) can travel freely as that is used for the discovery of players</li> <li>After re-enabling a disabled speaker, it can take a while before the speaker is rediscovered, the process can be sped up by restarting Music Assistant</li> <li>It is possible to group cast players via a Universal Group although they may not play in sync</li> <li>TV/Video devices (not the AV dongles) are disabled by default</li> <li>Cast Groups containing only a stereo pair will not work</li> </ul>"},{"location":"player-support/ha/","title":"Player Support - Home Assistant Players","text":""},{"location":"player-support/ha/#home-assistant","title":"Home Assistant","text":"<p>Music Assistant has support for playing to media player entities in Home Assistant.</p> <p>Be Aware</p> <p>This player provider relies on the upstream HA integrations which have not necessarily been written or optimised for music playback. Therefore, if there is any way to use a MA provider you need to do so. Problems with HA providers will be addressed as resources allow.</p>"},{"location":"player-support/ha/#features","title":"Features","text":"<ul> <li>All media player entities that are available in HA, for which there is no dedicated MA provider, will be available in MA</li> <li>All media player types that can be grouped in HA can be grouped in MA via the Player List or HA action</li> </ul>"},{"location":"player-support/ha/#configuration","title":"Configuration","text":"<p>Before the Player Provider can be added the Plugin must be installed. The following image shows what a successful installation looks like</p> <p></p> <ul> <li>In the MA SETTINGS select ADD PLAYER PROVIDER then HOME ASSISTANT MEDIA PLAYERS</li> <li>In the provider settings, select which players are desired to be utilised. These can be changed at any time.</li> </ul> <p>Note</p> <p>Features are most likely limited with these players. Always prefer a native player provider if it exists in MA as that is optimised</p>"},{"location":"player-support/ha/#settings","title":"Settings","text":"<p>For information about the settings seen in the MA UI refer to the Player Provider Settings and Individual Player Settings pages.</p>"},{"location":"player-support/ha/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>This player provider is not enabled by default and must be added via MA settings however before it is available you must setup the Home Assistant Plug-in Provider</li> <li>Only players that support <code>play_media</code> can be used, other players will be filtered out</li> <li>MA players will be filtered out</li> <li>Synchronisation between this player type and any others is not possible</li> <li>In order to support a greater number of players, different streaming profiles are available. If the player doesn't work, stops mid stream or has other playback issues then change the player setting <code>HTTP Profile used for sending audio</code> and try each option until the player works</li> <li>If there is no metadata sent to the player then you can trying enabling the option <code>Try to inject metadata into stream</code></li> <li>ESPHome based Media Players are in general not recommended for playback of music. Short audio announcements or possibly webradio could work but it is really not suitable for playing music from MA. TIP: you may have to enable the \"fixed content length\" HTTP profile in the player's settings. Having said that, more powerful ESPHome based players such as the HA Voice PE work well, support FLAC and have some other optimisations.</li> </ul>"},{"location":"player-support/musiccast/","title":"MusicCast Player Provider","text":""},{"location":"player-support/musiccast/#musiccast","title":"MusicCast","text":"<p>Music Assistant has support for MusicCast devices. Contributed and maintained by Fabian Munkes</p>"},{"location":"player-support/musiccast/#features","title":"Features","text":"<ul> <li>MusicCast devices are auto detected by Music Assistant</li> <li>MusicCast devices will play in perfect sync when grouped</li> <li>Crossfading and metadata is supported</li> <li>A source can be specified to switch to when a player leaves a group</li> <li>MA will show metadata if the player is playing non-MA content</li> <li>Source selection of the MusicCast device is possible</li> </ul>"},{"location":"player-support/musiccast/#settings","title":"Settings","text":"<p>In addition to the Individual Player Settings the MusicCast provider also some unique settings in the <code>Generic settings</code> section for devices which support multiple zones</p> <ul> <li>Switch to this non-net source when leaving a group. Players have to switch inputs when leaving a group. This option defines which input is selected. It is recommended to select a source that is unused so that unexpected sound output does not occur upon input switching</li> <li>Turn off the zone when it leaves a group. Toggle defines the power behaviour when the player leaves a group</li> </ul>"},{"location":"player-support/musiccast/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Supported devices are those from circa 2015 and later</li> <li>If a device has multiple zones (i.e. main + max 3 others) only one of these zones can be streamed to. However, if streaming to main, the other zones can be joined to that player. This is a limitation of the Yamaha devices. Only one network connection is possible at a time and therefore only one network input can be active at a time. This means a different non-network source must be selected by MA when the device leaves a group. It also means that attempting to use the <code>Select Source</code> option to set two different network sources will result in unexpected behaviour </li> <li>The main zone cannot be successfuly joined to a non-main zone. Attempting to do so will result in unexpected behaviour</li> <li>When grouping multiple devices which have multiple zones and it is desired that two or more of the device's zones will be joined, the main zone of the joining device must be added first and then the non-main zones can be joined. If only a single zone of another device is to be grouped then that can be done at any time</li> <li>The HA integration and MA integration can be used alongside each other but is not advisable to do so as duplicate player entities will get created unnecessarily</li> </ul>"},{"location":"player-support/snapcast/","title":"Snapcast Player Provider","text":""},{"location":"player-support/snapcast/#snapcast","title":"Snapcast","text":"<p>Music Assistant supports Snapcast, a powerful solution for synchronized multi-room audio streaming. Snapcast enables seamless playback across various devices, creating an immersive audio experience. Whether using Snapcast-compatible speakers or devices like the Raspberry Pi, synchronized audio playback can be enjoyed effortlessly. This component is contributed and maintained by SantiagoSotoC.</p> <p>MA includes a built-in Snapserver although an external server can also be used. The diagram below shows a possible combination of outputs. In the diagram a Raspberry Pi runs the server which communicates to MA and all of the clients. The server running Pi is also running Snapclient and is connected to a set of speakers. Then there is another Pi running Snapclient in another room, a phone running Snapdroid and a laptop running Snapweb.</p> <p></p>"},{"location":"player-support/snapcast/#features","title":"Features","text":"<ul> <li>Synchronized playback across all Snapcast devices</li> <li>Lossless audio quality with options for 48kHz / 16bits PCM</li> </ul>"},{"location":"player-support/snapcast/#settings","title":"Settings","text":"<p>In addition to the Individual Player Settings the Snapcast provider also has a unique section called <code>Built-in Snapserver Settings</code>. The available settings are:</p> <ul> <li>Buffer Size. (default 1000ms) is the total buffer size (or better buffer duration) between recording the signal on the server and playing it out on the client. This can be translated directly to the total latency of the audio signal. If play is pressed or a track is paused or skipped, a delay of 1000ms will be noticed because of this buffer</li> <li>Chunk Size. (default 26ms). The server will continously read this number of milliseconds from the source into buffer and pass this buffer to the encoder. The encoded buffer is sent to the clients. Some codecs have a higher latency and will need more data, e.g. FLAC will need ~26ms chunks and thus this is the default</li> <li>Snapserver Initial Volume. The initial volume for new clients</li> <li>Send audio to muted clients. Maintains a stream to muted clients</li> <li>Snapserver default transport codec. Options are FLAC [default], OGG, OPUS, and PCM</li> </ul> <p>In the <code>Advanced Settings</code> section there is a toggle which will allow use of an external Snapcast server and the following settings:</p> <ul> <li>Snapcast Server IP. The IP address of the external Snapcast server (e.g. <code>192.168.1.200</code>)</li> <li>Snapcast Control Port. The port the external Snapcast server can be reached on</li> <li>Idle threshold stream parameter. (default 60000ms) The stream state will switch from playing to idle after receiving this many milliseconds of silence</li> </ul>"},{"location":"player-support/snapcast/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>The Snapcast provider will use the built-in Snapserver by default although a switch in the settings allows the use of an external server if desired. When using an external server the server IP and port must be entered</li> <li>Music Assistant only supports external Snapcast servers running version 0.27.0 (or newer). If using an external server you can confirm the version by launching with the command <code>snapserver -v</code>. Note that version 0.28.0 is only supported on a 64 bit OS. Note also that version 0.30.0 lacks required functionality for MA and cannot be used</li> <li>If not using an external server then the built-in Snapserver with the Snapweb option will be launched when this provider is added. Once enabled the workings of the server are transparent and the clients appear in the MA UI</li> <li>Clients are created by pointing a browser or Snapdroid at <code>&lt;YOUR_MA_IP_ADDRESS&gt;:1780</code>. The browser tab must remain open to maintain the stream</li> <li>Client names for all clients can be adjusted in Snapweb and Snapdroid via their respective UIs. Additionally, it is possible to rename the players in the MA settings</li> <li>The built-in Snapserver can only accept connections from Music Assistant</li> <li>If it is necessary to adjust the latency of a client, it must be done from another interface such as Snapdroid or Snapweb</li> <li>If muted players go out of sync or exhibit undesirable rebuffer delays when subsequently unmuted, or shutdown while muted then try turning on the option <code>Send audio to muted clients</code></li> <li>Pausing has been implemented as best as can be achieved with the limitations of Snapcast. MA issues a STOP and RESUME command to achieve the pause effect but this means the resulting player state never changes to paused.</li> <li>Occasionally after a stream change (pause, skip or seek) Snapweb can go silent. This can be fixed by selecting stop then play in the Snapweb UI</li> <li>The Snapcast app for iOS is broken as it uses an old version of Snapclient. Using it brings problems with this provider</li> <li>Ensure that the ports 1704 and 1705 on the Snapserver host are open. Also make sure that the ports between 4953 and 5153 inclusive are open</li> <li>Try the default Snapcast settings and then make changes as necessary</li> </ul>"},{"location":"player-support/sonos/","title":"Sonos","text":""},{"location":"player-support/sonos/#sonos","title":"Sonos","text":"<p>Music Assistant has support for Sonos devices. There are two providers available. \"Sonos S1\" for the S1 devices and \"Sonos\" for S2.</p>"},{"location":"player-support/sonos/#features","title":"Features","text":"<ul> <li>Sonos devices are auto detected by Music Assistant</li> <li>Sonos devices from the same series (S1 or S2) will play in sync when grouped</li> <li>Sonos devices can optionally be grouped with AirPlay devices</li> </ul>"},{"location":"player-support/sonos/#airplay-functionality","title":"AirPlay Functionality","text":"<p>In the settings for the Sonos player there is an option to <code>Enable AirPlay</code>.</p> <p>If the feature is disabled (normal Sonos playback) then the Sonos API will be used to stream audio to the Sonos speaker. The audio will be played on that speaker and any speakers that are linked to it.</p> <p>However, many Sonos devices support the AirPlay 1 RAOP protocol and this enables very useful functionality within Music Assistant.</p> <p>In order to use the AirPlay functionality of Sonos devices the AirPlay provider must also be added via the MA settings. This will result in AirPlay versions of the Sonos devices being created. These can then be hidden (not disabled) to remove duplicates of what will be the same player (Set <code>Hide this player in the User Interface</code> to <code>Always</code> in the AirPlay player settings).</p> <p>If the <code>Enable AirPlay</code> option is then selected, the playback command(s) will be redirected to the AirPlay player, meaning that the AirPlay protocol will be used to play the audio on that Sonos speaker. Other Sonos players can be synced with this player and additionally it is possible to group any AirPlay capable speakers/players with the AirPlay-player of the Sonos speaker. This means it is possible to play the same audio in perfect sync to a combination of AirPlay and Sonos speakers.</p> <p>Note</p> <p>You can also accomplish this by bypassing the whole Sonos integration and only use the AirPlay-equivalent of all the Sonos speakers but this is not preferable as not all Sonos speakers have AirPlay capabilities and syncing a player with the AirPlay protocol introduces a small silence due to the stream restart.</p>"},{"location":"player-support/sonos/#settings","title":"Settings","text":"<p>For information about the settings seen in the MA UI refer to the Player Provider Settings and Individual Player Settings pages.</p>"},{"location":"player-support/sonos/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Issues have been reported with the Sonos Arc and Unifi networking equipment. Ensure Multicast DNS and IGMP snooping are turned on if you have problems</li> <li>S1 and S2 devices cannot be grouped together in the same Sync Group. S1 and S2 devices can be grouped via a Universal Group but will not play in sync</li> <li>Using the Sonos HA Integration at the same time as the MA Sonos S1 player provider may cause problems. It is not possible to run the HA provider and Sonos S1 provider on the same host and additionally these speakers do not like too many requests from too many sources. It is therefore recommended to only use the MA Sonos S1 player provider</li> <li>Syncing Sonos devices with AirPlay devices requires the enabling of an option on the Sonos player</li> <li>Sonos has removed RAOP support from the following models: ERA 100, ERA 300, Move 2 and Arc Ultra. As such, AirPlay streaming (from Music Assistant) to these devices is not possible</li> <li>Sonos firmware changes has resulted in crossfade not working when the output codec is lossless (i.e. FLAC or WAV). Users can either disable crossfade, switch to the MP3 codec or use AirPlay mode</li> </ul>"},{"location":"player-support/squeezelite/","title":"Squeezelite","text":""},{"location":"player-support/squeezelite/#squeezelite","title":"Squeezelite","text":"<p>Music Assistant partly emulates an Logitech Media Server (which is now maintained as Lyrion Music Server, a.k.a. LMS) and has a full implementation of the Slim Protocol (also known as \"SlimProto\") in the form of player provider support for Squeezelite clients.</p> <p>This means it is possible to use Squeezelite client player software and hardware, directly with Music Assistant, as well as control Music Assistant from those Squeezelite client players (as well as other slimproto emulators such as SqueezeSlave, SoftSqueeze, and SqueezePlay).</p> <p>Squeezelite clients are available for, and can run on, almost any hardware from desktop OS to ESP32-based devices. There is also some legacy support for the original Logitech branded Squeezebox series of hardware players, (formerly known as SlimDevices), such as the Squeezebox Duet and the Squeezebox Radio.</p>"},{"location":"player-support/squeezelite/#features","title":"Features","text":"<ul> <li>Squeezelite client devices are automatically detected by Music Assistant</li> <li>Individual player DSP settings will be used for group playback</li> <li>Squeezelite client device buttons support</li> <li>Any physical control buttons on the device should be supported as long as flow mode is not enabled</li> </ul>"},{"location":"player-support/squeezelite/#settings","title":"Settings","text":"<p>In addition to the Individual Player Settings the Squeezelite provider also has a unique setting in the Advanced section and a unique Presets section</p> <ul> <li>Advanced - Enable Display Support. Some Squeezelite hardware have a display and this setting enables support. When enabled, a second option is made available to select the <code>Visualization type</code></li> <li>Presets. Real Squeezebox hardware or jive(lite) based emulators support presets. This section allows the assignment of Playlists or Radio Stations to those presets</li> </ul>"},{"location":"player-support/squeezelite/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>The focus of this provider in MA is to support the use of software Squeezelite clients (e.g. piCorePlayer). Old original Squeezebox hardware is reported to work although there are reported issues with grouping. The MA core team cannot afford to expend resources on making these devices work any better than they do now. PRs to enhance support, however, are welcomed to the aioslimproto library and/or the squeezelite provider in MA</li> <li>Running LMS on the same server as MA with the MA Squeezelite provider enabled can have undesired effects</li> <li>Make sure that you do not have the \"slimproto\" (Squeezebox players) integration running in Home Assistant</li> <li>Ordinarily do not use queue flow mode unless using older Squeezebox hardware player that has issues transitioning. Enabling queue flow mode may solve playback issues, however, it might come with the side effect of disabling actual physical buttons and/or display of metadata on the device itself</li> </ul>"},{"location":"plugins/lastfm_scrobble/","title":"LastFM Scrobbler Plugin","text":""},{"location":"plugins/lastfm_scrobble/#lastfm-scrobbler","title":"LastFM Scrobbler","text":"<p>Music Assistant has the ability to scrobble to LastFM or LibreFM. Contributed and maintained by Willem-Jan Zijderveld</p>"},{"location":"plugins/lastfm_scrobble/#features","title":"Features","text":"<ul> <li>Connect to either LastFM or LibreFM and scrobble the songs that are playing</li> <li>Now playing feature is supported</li> </ul>"},{"location":"plugins/lastfm_scrobble/#configuration","title":"Configuration","text":"<ul> <li>First obtain the API credentials. For LastFM follow the first two steps from here</li> <li>Enter your credentials and click <code>Authorize with LastFM</code>, this will open a new tab with LastFM where permission must be given by clicking \"Yes, allow access\"</li> <li>The UI will indicate a successful login. Ensure to click SAVE to complete the configuration</li> </ul>"},{"location":"plugins/lastfm_scrobble/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Currently songs will only get scrobbled when they're fully played (90+%)</li> <li>Be careful to avoid double scrobbling. This is possible if a music provider is used that also does scrobbling internally. A future improvement is to make it configurable which music providers will be scrobbled</li> </ul>"},{"location":"plugins/listenbrainz_scrobble/","title":"Listenbrainz Scrobbler Plugin","text":""},{"location":"plugins/listenbrainz_scrobble/#listenbrainz-scrobbler","title":"Listenbrainz Scrobbler","text":"<p>Music Assistant has the ability to scrobble to Listenbrainz. Contributed and maintained by Ian Campbell</p>"},{"location":"plugins/listenbrainz_scrobble/#features","title":"Features","text":"<ul> <li>Connect to Listenbrainz and scrobble the songs that are playing</li> <li>Now playing feature is supported</li> </ul>"},{"location":"plugins/listenbrainz_scrobble/#configuration","title":"Configuration","text":"<ul> <li>Obtain your User Token from https://listenbrainz.org/settings/ </li> </ul>"},{"location":"plugins/listenbrainz_scrobble/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Currently songs will only get scrobbled when they're fully played (90+%)</li> <li>Be careful to avoid double scrobbling. This is possible if a music provider is used that also does scrobbling internally. A future improvement is to make it configurable which music providers will be scrobbled</li> </ul>"},{"location":"plugins/spotify-connect/","title":"Spotify Connect Plugin","text":""},{"location":"plugins/spotify-connect/#spotify-connect","title":"Spotify Connect","text":"<p>Music Assistant has the ability to add Spotify Connect support to any MA player.</p> <p>Note</p> <p>This plugin is still in an early stage of development. Functionality is limited and bugs may occur</p>"},{"location":"plugins/spotify-connect/#features","title":"Features","text":"<ul> <li>Any MA player can be exposed including groups</li> </ul>"},{"location":"plugins/spotify-connect/#configuration","title":"Configuration","text":"<p>To make each player appear as a Spotify Connect target in the Spotify app, the Spotify Connect provider needs to be added individually for each player in the Plugins section</p>"},{"location":"plugins/spotify-connect/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>To use Spotify Connect, all devices must be connected to the same network. Refer to the Spotify Connect Support Article for more information (Note that any reference in that article to accessing devices from different WiFi networks isn't supported)</li> <li>If the device does not natively support announcements then playback will be interrupted if an announcement is sent to a player that is being streamed to via Spotify Connect. Currently this means that, announcements will only work on the Voice PE devices (and derivatives) and Sonos S2 devices.</li> <li>Due to the universal, buffered nature of forwarding the Spotify Connect audio stream to MA players, there will be a delay (between 0.5 and 5 seconds) in sending a command from the Spotify app. Metadata can also be ahead of time. </li> </ul>"},{"location":"plugins/subsonic_scrobble/","title":"Subsonic Scrobbler Plugin","text":""},{"location":"plugins/subsonic_scrobble/#subsonic-scrobbler","title":"Subsonic Scrobbler","text":"<p>Music Assistant has the ability to report played tracks to a Subsonic media server. Contributed and maintained by Clusters</p>"},{"location":"plugins/subsonic_scrobble/#features","title":"Features","text":"<ul> <li>Scrobble music playback to a Subsonic media server. This is useful for keeping track of play count or play history</li> <li>Now playing feature is supported</li> </ul>"},{"location":"plugins/subsonic_scrobble/#configuration","title":"Configuration","text":"<ul> <li>No plugin specific configuration is necessary, but a Subsonic music provider must be configured for the plugin to work</li> </ul>"},{"location":"plugins/subsonic_scrobble/#known-issues-notes","title":"Known Issues / Notes","text":"<ul> <li>Songs will only get reported as played when they are fully played (90+%)</li> </ul>"},{"location":"settings/core/","title":"Core Settings","text":""},{"location":"settings/core/#ma-server-settings","title":"MA Server Settings","text":"<p>The core server settings are set with typical defaults that should work for most users. However, there are settings available for each of the core controllers and these are outlined below. All controllers have a setting for the log level in the advanced section. There may be slight differences in the settings between the HA add-on and docker versions of the servers.</p> <p></p>"},{"location":"settings/core/#cache-controller","title":"Cache Controller","text":"<ul> <li>A button is available to clear the cache used my Music Assistant. Do not routinely use this button as it increases API usage and slows down the MA experience</li> </ul>"},{"location":"settings/core/#metadata-controller","title":"Metadata Controller","text":"<ul> <li>Language. Preferred language for metadata. If the selected language is unavailable then English will be used</li> <li>Enable metadata retrieval from online metadata providers. Enables the lookup of information that is not available locally. MA does not modify any existing metadata but supplements it</li> </ul>"},{"location":"settings/core/#music-controller","title":"Music Controller","text":"<ul> <li>Sync Interval. The interval in minutes that all music providers are synchronized with MA</li> <li>Add item to the library as soon as its played. Add a track or radio station to the library when played</li> <li>Advanced - Reset Library Database. Selecting this button will erase the MA database. This is a destructive irreversible action! This should only be used if database corruption is confirmed. All library items including playlists stored in the database will be lost and will need to be recreated. A rescan of the music providers will rebuild the database with the information contained on those providers. Do not use this routinely. For problems with individual items use the REMOVE FROM LIBRARY menu option</li> </ul>"},{"location":"settings/core/#player-queues-controller","title":"Player Queues Controller","text":"<p>The behaviour when playing or enqueuing items is determined by the settings in this section.</p> <p></p>"},{"location":"settings/core/#players-controller","title":"Players Controller","text":"<ul> <li>No settings are currently available beyond the log level</li> </ul>"},{"location":"settings/core/#streamserver","title":"Streamserver","text":"<p>All settings in this section should be considered advanced and will not need to be adjusted in the majority of cases. Users with complicated network setups will find settings in this section that will be useful. If MA appears to be setup correctly but no playback occurs then check the settings in this section.</p>"},{"location":"settings/core/#streamserver-generic-settings","title":"Streamserver Generic Settings","text":"<ul> <li>The Published IP address and TCP Port are normally populated automatically. If there are issues with playback then confirm the IP address shown is reachable by the players on the local network. The port must be available</li> </ul>"},{"location":"settings/core/#streamserver-audio-settings","title":"Streamserver Audio Settings","text":"<p>This section contains settings which affect the Volume Normalization functionality of MA. This functionality is enabled by default and settings are also available on an individual player basis. Extensive online help for these settings is available by selecting the  icon in the settings UI for each option.</p> <p></p>"},{"location":"settings/core/#streamserver-advanced-settings","title":"Streamserver Advanced Settings","text":"<ul> <li>Bind to IP/interface. Use in complex network setups to start the streamserver on a specific interface</li> <li>Allow caching of remote/cloudbased audio streams. To ensure smoother playback as well as faster seeking, MA can cache audio streams on disk. This should only be disabled on systems with limited diskspace. Select the  icon in the settings UI for more information</li> </ul>"},{"location":"settings/core/#webserver-frontend-and-api","title":"Webserver (Frontend and API)","text":"<ul> <li>Base URL. The (base) URL to reach this webserver on the network. Override this in advanced scenarios where, for example, you are running the webserver behind a reverse proxy</li> <li>TCP Port. The port that the webserver is to be run on. If this setting is changed then ensure the base URL port is changed as well</li> <li>Advanced-Bind to IP/Interface. Start the webserver on this specific interface. For further information see the help for this setting in the MA UI</li> </ul>"},{"location":"settings/individual-player/","title":"Individual Player Settings","text":""},{"location":"settings/individual-player/#individual-player-settings","title":"Individual Player Settings","text":"<p>Individual Player Settings are usually quite extensive. The typical headings of the various sections are shown in the following image and subsections below will expand on them. Groups have the same sections but less settings available. Not all players have all the settings listed. Reference can be made to the Player Summary Table to identify some of the functionality that should be available for a given player type otherwise visit the settings page for the player. </p> <p></p>"},{"location":"settings/individual-player/#generic-settings","title":"Generic Settings","text":"<ul> <li>Icon. A material design icon is used in some parts of the UI and this can be configured on a per player basis</li> <li>Enable queue flow mode (not available all providers). This can be used for players that do not natively support gapless and/or crossfading or if the player has trouble transitioning between tracks. Refer to the player provider page for the pros and cons associated with enabling this option</li> <li>Hide this player in the UI. This setting determines when the player will not be shown in the Player List. Options are <code>When unavailable</code>, <code>When group active</code>, <code>When synced</code>, <code>Always</code>, and <code>When powered off</code></li> <li>Dynamic members toggle. This setting is available for Sync and Universal Groups. When enabled, it is then possible to add and remove members from these group types</li> <li>Group members. For Group player types the members of the group are configured in this field</li> </ul>"},{"location":"settings/individual-player/#audio","title":"Audio","text":"<ul> <li>Enable Crossfade. This toggle enables the crossfade transition between tracks. The crossfade duration is set in the Advanced Settings</li> <li>Enable Volume Normalization. This setting should normally remain enabled to avoid differing volume levels between tracks from different sources. Read more about this on the Technical Information page. The target level is set in the Advanced Settings</li> <li>Enable Limiting to Prevent Clipping. This setting should normally remain enabled to prevent audio distortion by excessively loud peaks in a track</li> <li>Output Channel Mode. This setting allows for selection of which channel is sent to a player. The options are <code>Stereo</code>, <code>Left</code>, <code>Right</code>, or <code>Mono</code></li> <li>DSP Settings. The button to enter the DSP settings view is in this section. The functionality of the view is described next</li> </ul>"},{"location":"settings/individual-player/#dsp-settings","title":"DSP Settings","text":"<p>All providers have the option to apply Digital Signal Processing (DSP) filters to the audio stream. DSP lets you shape and refine the audio with a variety of filters. Use it to tailor the sound to a room's acoustics, compensate for speaker characteristics, and fine-tune the frequency balance to personal taste.</p> <p>The DSP option is found in the MA settings for each player which means that each player has its own independently configurable DSP settings.</p> <p>Individual player DSP settings will be used for playback to AirPlay, Squeezelite and Universal groups. For all other group types DSP will be disabled.</p> <p>The DSP path consists of an INPUT pre-amplifier for initial gain control, followed by optional audio filters that can be added between input and output (multiple times if desired). The following filters are available:</p> <ul> <li>Parametric Equalizer</li> <li>Tone Controls</li> </ul> <p>The path ends with an OUTPUT stage that provides both gain control and a limiter (enabled by default) to prevent signal clipping.</p> <p>The DSP settings can be enabled and disabled via a toggle which allows easy A-B testing</p> <p>The line on the left of the DSP settings represents the audio path, in sequential order, from the audio file (top) to the player (bottom).</p> <p>A dot on the line represents a component that changes the signal. The lack of a dot indicates that the particular component has been disabled.</p> <p>Using the icons at the top of the view, the additional filters can be reordered, disabled/enabled or deleted.</p> <p></p>"},{"location":"settings/individual-player/#advanced-settings","title":"Advanced Settings","text":"<ul> <li>Crossfade duration. This slider is enabled when crossfade is enabled in the Audio section. The default setting is 8 seconds</li> <li>Target level for Volume Normalization. The default setting of -17 should normally be left undisturbed. If this is set too high it may cause clipping. Volume Normalization is enabled and disabled in the Audio section</li> <li>Expose this player to Home Assistant. If disabled the player will not be imported into HA</li> <li>Sample rates supported by this player. This setting is automatically set upon player discovery but the sample rates and bit depths supported by the player can be manually set. Content with unsupported sample rates will be resampled</li> <li>Output codec to use for streaming audio to the player. The default is FLAC but other options are MP3, AAC or WAV.</li> <li>HTTP profile used for send audio. This is considered to be a very advanced setting and should only be adjusted if needed. For example, try the different options if the player stops halfway through a stream or for other playback related issues. The default differs between player types</li> <li>Try to inject metadata into stream (ICY). Enabling this option attempts to provide metadata to the player which can be used to show track info, even when flow mode is enabled. Not all player support this correctly, therefore, if there are issues with playback try disabling this setting.</li> <li>Audio synchronisation delay correction. Refer to the Player Summary Table to identify which types support sync correction</li> </ul>"},{"location":"settings/individual-player/#announcements-configuration","title":"Announcements Configuration","text":"<p>There are a number of configurable options for controlling the volume of announcements sent to the MA players. These are well described by the help available by selecting this icon  beside each field.</p> <p></p>"},{"location":"settings/individual-player/#player-controls","title":"Player Controls","text":"<p>Each player has a number of options available to control the behaviour of the power, volume and mute controls in the MA UI. By default, if a device supports these controls then that native behaviour will be used or if the control is not supported then it will be disabled in the UI (the setting will indicate NONE). It is also possible to manually disable the controls by changing the setting to NONE.</p> <p>It is possible to map other HA entities to the MA player controls. in order for this to be an option the HA entities need to be first exposed to MA via the settings in the HA Plugin.</p> <p>Power If a player does not support power but it is desired that the player has an on and off state then a FAKE option is available which will simulate the on/off functionality. </p> <p>Mute There is a FAKE option that will set the volume to zero and restore it when mute and unmute is commanded.</p> <p>Also in this section is the option <code>Automatically play (resume on power on)</code> which will automatically start playback if there are items in the queue for the player.</p>"},{"location":"settings/individual-player/#provider-specific-settings","title":"Provider Specific Settings","text":"<p>Providers with unique settings are:</p> <ul> <li>AirPlay</li> <li>Squeezelite</li> <li>Google Cast</li> </ul>"},{"location":"settings/music-provider-settings/","title":"Music Provider Settings","text":""},{"location":"settings/music-provider-settings/#music-provider-settings","title":"Music Provider Settings","text":"<p>All Music Providers have settings which can be configured. The settings page will look similar to the following. The text <code>Check out the documentation</code> is a hyperlink to the relevant page in this documentation. Specific help for a setting or configurable field is often available and is accessed by selecting this icon . All providers can be given a custom name and disabled if necessary. The log level can be adjusted for all providers and this is found in the advanced settings. (Do not select Verbose unless asked for by a dev as it can have an adverse performance impact). See the provider pages for provider specific settings.</p> <p></p>"},{"location":"settings/player-provider/","title":"Player Provider Settings","text":""},{"location":"settings/player-provider/#player-provider-settings","title":"Player Provider Settings","text":"<p>All Player Providers have settings which can be configured. The settings page will look similar to the following although there may not be a Generic Settings section. The text <code>Check out the documentation</code> is a hyperlink to the relevant page in this documentation. Specific help for a setting or configurable field is often available and is accessed by selecting this icon . All providers can be given a custom name and disabled if necessary. The log level can be adjusted for all providers and is found in the advanced settings. (Do not select Verbose unless asked for by a dev as it can have an adverse performance impact). See the provider pages for any provider specific settings (many have none) and the Individual Player Settings page.</p> <p></p>"}]}